(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{174:function(e,t,a){e.exports=a(294)},293:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),s=a.n(l),o=a(12),i=a(13),c=a(15),u=a(14),h=a(16),m=a(59),d=a(28),p=a.n(d),g=function e(){var t=this;Object(o.a)(this,e),this.signup=function(e,a,n){return t._service.post("/auth/signup",{username:e,password:a,name:n})},this.login=function(e,a){return t._service.post("/auth/login",{username:e,password:a})},this.logout=function(){return t._service.post("/auth/logout")},this.loggedin=function(){return t._service.get("/auth/loggedin")},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},E=a(22),v=a(296),f=a(300),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,l=t.name;a._service.signup(n,r,l).then((function(e){a.props.setUser(e.data),a.setState({username:"",password:"",name:""}),a.props.history.push("/")})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(E.a)({},n,r))},a._service=new g,a.state={username:"",password:"",name:""},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,null,r.a.createElement("h1",null,"Registro"),r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Email"),r.a.createElement(f.a.Control,{type:"email",name:"username",onChange:this.handleInputChange,value:this.state.username})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Name"),r.a.createElement(f.a.Control,{type:"text",name:"name",onChange:this.handleInputChange,value:this.state.name})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Contrase\xf1a"),r.a.createElement(f.a.Control,{type:"text",name:"password",onChange:this.handleInputChange,value:this.state.password})),r.a.createElement("button",{variant:"dark",type:"submit"},"Registrarme")))}}]),t}(n.Component),C=a(19),y=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({user:Object(C.a)({},a.state.user,Object(E.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.user,n=t.username,r=t.password;a._service.login(n,r).then((function(e){a.props.setUser(e.data),a.setState({username:"",password:""}),a.props.history.push("/")})).catch((function(e){a.handleToastOpen(e.response.data.message)}))},a.handleToastClose=function(){return a.setState({showToast:!1,toastText:""})},a.handleToastOpen=function(e){return a.setState({showToast:!0,toastText:e})},a._service=new g,a.state={showToast:!1,toastText:"",user:{username:"",password:""}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"home0"},r.a.createElement("h1",{className:"marginT"},"Iniciar sesi\xf3n"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"imgPetCard"},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",onChange:this.handleInputChange,value:this.state.username})),r.a.createElement("div",{className:"imgPetCard orange"},r.a.createElement("label",null,"Password:"),r.a.createElement("input",{type:"password",name:"password",onChange:this.handleInputChange,value:this.state.password})),r.a.createElement("button",{type:"submit"},"Iniciar sesi\xf3n")))}}]),t}(n.Component),w=a(302),S=a(301),U=a(299),O=a(18),_=function e(){var t=this;Object(o.a)(this,e),this.edit=function(e,a,n,r,l){return t._service.post("/profile/edit",{phone:n,description:a,imageUrl:e,name:r})},this.profile=function(){return t._service.get("/profile")},this.addReservation=function(e,a){return t._service("/profile/addReservation",{petReservation:a})},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).logoutUser=function(){a._authService.logout().then((function(e){return a.props.setUser(!1)})).catch((function(e){return console.log(e)}))},a.host=function(){return"host"==a.props.loggedInUser.class&&r.a.createElement(w.a.Link,{as:"li"},r.a.createElement(O.b,{className:"link",to:"/myHome"},"My Home"))},a.componentDidMount=function(){a._profileService.profile().then((function(e){console.log(e),a.props.setUser(e.data)})).catch((function(e){return console.log(e)}))},a._authService=new g,a._profileService=new _,a.state={reservationRecuest:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.loggedInUser?this.props.loggedInUser.name:"Guest";return this.props.loggedInUser?r.a.createElement(S.a,{className:"nav",expand:"md"},r.a.createElement(S.a.Brand,null,r.a.createElement(w.a.Link,{className:"padding0",as:"li"},r.a.createElement(O.b,{className:"link logo",to:"/"},"PetH"))),r.a.createElement(S.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(S.a.Collapse,null,r.a.createElement(w.a,{className:"mr-auto"},r.a.createElement(w.a.Link,{as:"li"},r.a.createElement(O.b,{className:"link",to:"/profile"},r.a.createElement("strong",null,"Profile"))),r.a.createElement(w.a.Link,{as:"li"},r.a.createElement(O.b,{className:"link",to:"/myPets"},"Pets")),r.a.createElement(w.a.Link,{as:"li"},r.a.createElement(O.b,{className:"link",to:"/reservations"},"Reservations")),this.host(),r.a.createElement(U.a,{id:"basic-nav-dropdown"},this.props.loggedInUser.notification&&this.props.loggedInUser.notification.map((function(e){return r.a.createElement(U.a.Item,null,r.a.createElement(O.b,{className:"link orange",to:"requestDetail/".concat(e._id)},"New Request"))}))),r.a.createElement(w.a.Link,{className:"link",as:"li",onClick:this.logoutUser},"Logout")),r.a.createElement(w.a,{className:"ml-auto"},r.a.createElement(S.a.Text,null,"Welcome ",e)))):r.a.createElement(S.a,{className:"nav",expand:"md"},r.a.createElement(S.a.Brand,null,r.a.createElement(w.a.Link,{as:"li"},r.a.createElement(O.b,{className:"link logo",to:"/"},"PetH"))),r.a.createElement(S.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(S.a.Collapse,null,r.a.createElement(w.a,{className:"mr-auto"},r.a.createElement(w.a.Link,{as:"li"},r.a.createElement(O.b,{className:"link",to:"/"},"Home")),r.a.createElement(w.a.Link,{as:"li"},r.a.createElement(O.b,{className:"link",to:"/signup"},"SignUp")),r.a.createElement(w.a.Link,{as:"li"},r.a.createElement(O.b,{className:"link",to:"/login"},"Login"))),r.a.createElement(w.a,{className:"ml-auto"},r.a.createElement(S.a.Text,null,"Welcome ",e))))}}]),t}(n.Component),N=a(297),k=a(166),D=a(298),M=function e(){var t=this;Object(o.a)(this,e),this.handleUpload=function(e){return t._service.post("/files/upload",e)},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a._userService.edit(a.state.user).then((function(e){a.props.closeModalWindow(),a.props.update(e.data)})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({user:Object(C.a)({},a.state.user,Object(E.a)({},n,r))})},a.handleFileUpload=function(e){a.setState({disabledbutton:!0,buttonText:"Subiendo imagen..."});var t=new FormData;t.append("imageUrl",e.target.files[0]),a._filesService.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),a.setState({disabledbutton:!1,buttonText:"Editar usuario",user:Object(C.a)({},a.state.user,{imageUrl:e.data.secure_url})})})).catch((function(e){return console.log(e)}))},a._userService=new _,a._filesService=new M,a.state={disabledbutton:!1,buttonText:"editar perfil",user:{name:a.props.content.name,description:a.props.content.description,phone:a.props.content.phone,imageUrl:a.props.content.imageUrl,notification:a.props.content.notification,_id:a.props.content._id}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Nombre"),r.a.createElement(f.a.Control,{type:"text",name:"name",onChange:this.handleInputChange,value:this.state.user.name})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Descripci\xf3n"),r.a.createElement(f.a.Control,{type:"text",name:"description",onChange:this.handleInputChange,value:this.state.user.description})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Phone Number"),r.a.createElement(f.a.Control,{type:"number",name:"phone",onChange:this.handleInputChange,value:this.state.user.phone})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Imagen URL (archivo)"),r.a.createElement(f.a.Control,{name:"imageUrl",type:"file",onChange:this.handleFileUpload})),r.a.createElement("button",{variant:"dark",size:"sm",type:"submit",disabled:this.state.disabledbutton},this.state.buttonText))}}]),t}(n.Component),P=function e(){var t=this;Object(o.a)(this,e),this.edit=function(e){var a=e.title,n=e.imageUrl,r=e.street,l=e.postalCode,s=e.city,o=e.country,i=e.home,c=e.owner,u=e.standardPrice,h=e.petGrooming,m=e._id;return console.log(r),t._service.post("/host/edit",{title:a,imageUrl:n,street:r,postalCode:l,city:s,country:o,home:i,owner:c,standardPrice:u,petGrooming:h,_id:m})},this.create=function(e,a,n,r,l,s,o,i,c,u){return t._service.post("/host/create",{title:e,imageUrl:a,street:n,postalCode:r,city:l,country:s,home:o,owner:i,standardPrice:c,petGrooming:u})},this.details=function(e){return t._service.get("/host/details/".concat(e))},this.delete=function(e){return t._service.get("/host/delete/".concat(e))},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a._hostService.create(a.state.home).then((function(e){a.props.closeModalWindow(),a.props.update(),a.props.setTheUser(e.data.user)})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;"petGrooming"==n&&(r=e.target.checked),a.setState({home:Object(C.a)({},a.state.home,Object(E.a)({},n,r))})},a.handleFileUpload=function(e){a.setState({disabledbutton:!0,buttonText:"Subiendo imagen..."});var t=new FormData;t.append("imageUrl",e.target.files[0]),a._filesService.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),a.setState({disabledbutton:!1,buttonText:"Add ypur home",home:Object(C.a)({},a.state.home,{imageUrl:e.data.secure_url})})})).catch((function(e){return console.log(e)}))},a._hostService=new P,a._filesService=new M,a.state={disabledbutton:!1,buttonText:"Add your home",home:{title:"",imageUrl:"",street:"",postalCode:0,city:"",country:"",home:"",standardPrice:15,petGrooming:!1}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Imagen URL (archivo)"),r.a.createElement(f.a.Control,{name:"imageUrl",type:"file",onChange:this.handleFileUpload}),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Title"),r.a.createElement(f.a.Control,{type:"text",name:"title",onChange:this.handleInputChange,value:this.state.home.title})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Street"),r.a.createElement(f.a.Control,{type:"text",name:"street",onChange:this.handleInputChange,value:this.state.home.street})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Postal Code"),r.a.createElement(f.a.Control,{type:"number",name:"postalCode",onChange:this.handleInputChange,value:this.state.home.postalCode})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"City"),r.a.createElement(f.a.Control,{type:"text",name:"city",onChange:this.handleInputChange,value:this.state.home.city})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Country"),r.a.createElement(f.a.Control,{type:"text",name:"country",onChange:this.handleInputChange,value:this.state.home.country})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Type of residency"),r.a.createElement(f.a.Control,{as:"select",name:"home",onChange:this.handleInputChange,value:this.state.home.home},r.a.createElement("option",null,"Selecte one"),r.a.createElement("option",null,"Apartment"),r.a.createElement("option",null,"House")))),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Gruming services"),r.a.createElement(f.a.Control,{name:"petGrooming",type:"checkbox",onChange:this.handleInputChange,checked:this.state.home.petGrooming})),r.a.createElement("button",{variant:"dark",size:"sm",type:"submit",disabled:this.state.disabledbutton},this.state.buttonText))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleHostShow=function(){return a.setState({showModalHostWindow:!0})},a.handleHostClose=function(){return a.setState({showModalHostWindow:!1})},a.handleEditShow=function(){return a.setState({showModalEditWindow:!0})},a.handleEditClose=function(){return a.setState({showModalEditWindow:!1})},a.componentDidMount=function(){return a.getProfile()},a.getProfile=function(){a._profileService.profile().then((function(e){console.log(e),a.props.setTheUser(e.data)})).catch((function(e){return console.log(e)}))},a._profileService=new _,a.state={showModalEditWindow:!1,showModalHostWindow:!1},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.props.loggedInUser?r.a.createElement("div",{className:"whiteBackDetail"},r.a.createElement("section",{className:"backDetails secMarginB"},r.a.createElement(v.a,null,r.a.createElement("h1",{className:"marginT orange marginB0"},"Profile"),r.a.createElement("button",{className:"marginHost",onClick:this.handleHostShow},"Become a Host"),r.a.createElement(N.a,null,r.a.createElement(k.a,{md:6},r.a.createElement("img",{className:"profileImg",src:this.props.loggedInUser.imageUrl,alt:this.props.loggedInUser.name})),r.a.createElement(k.a,{md:6},r.a.createElement("div",{className:"marginTProf"},r.a.createElement("p",null,r.a.createElement("strong",{className:"orange"},"Name:")," ",this.props.loggedInUser.name),r.a.createElement("p",null,r.a.createElement("strong",{className:"orange"},"Phone Number:")," ",this.props.loggedInUser.phone),r.a.createElement("p",null,r.a.createElement("strong",{className:"orange"},"Descriotion:")," ",this.props.loggedInUser.description),r.a.createElement("button",{className:"marginEdit",onClick:this.handleEditShow},"Editar Usuario")))))),r.a.createElement(v.a,null,r.a.createElement(N.a,null,r.a.createElement(k.a,{md:6},r.a.createElement("h3",{className:"orange textCenter secMarginB"},"My Pets"),this.props.loggedInUser.pets&&this.props.loggedInUser.pets.map((function(e){return r.a.createElement(O.b,{className:"display around link buttonDetails",to:"/petDetails/".concat(e._id)},r.a.createElement("img",{className:"detailsImg",src:e.imageUrl}),r.a.createElement("p",{className:"profileP"},e.name))}))),"host"==this.props.loggedInUser.class&&r.a.createElement(k.a,{md:6},r.a.createElement("h3",{className:"orange textCenter secMarginB"},"My Home"),r.a.createElement(O.b,{className:"textCenter link",to:"/myHome"},r.a.createElement("div",{className:"buttonHomeP"},r.a.createElement("img",{className:"imgHomrP",src:this.props.loggedInUser.home.imageUrl}),r.a.createElement("h4",null,this.props.loggedInUser.home.title)))))),r.a.createElement(D.a,{show:this.state.showModalEditWindow,onHide:this.handleEditClose},r.a.createElement(D.a.Header,{closebutton:!0},r.a.createElement(D.a.Title,null,"Edit Profile")),r.a.createElement(D.a.Body,null,r.a.createElement(I,{closeModalWindow:this.handleEditClose,update:this.props.setTheUser,content:this.props.loggedInUser}))),r.a.createElement(D.a,{show:this.state.showModalHostWindow,onHide:this.handleHostClose},r.a.createElement(D.a.Header,{closebutton:!0},r.a.createElement(D.a.Title,null,"Become a host")),r.a.createElement(D.a.Body,null,r.a.createElement(W,{closeModalWindow:this.handleHostClose,update:this.getProfile,setTheUser:this.props.setTheUser})))):null}}]),t}(n.Component),L=function e(){var t=this;Object(o.a)(this,e),this.edit=function(e,a,n,r,l,s,o,i){return t._service.post("/pets/edit",{name:e,age:a,description:n,careDetails:r,agresiveWithAnimals:l,agresiveWithPeople:s,imageUrl:o})},this.create=function(e,a,n,r,l,s,o){return t._service.post("/pets/create",{name:e,age:a,description:n,careDetails:r,agresiveWithAnimals:l,agresiveWithPeople:s,imageUrl:o})},this.details=function(e){return t._service.get("pets/details/".concat(e))},this.delete=function(e){return t._service.get("pets/delete/".concat(e))},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},x=function(e){var t=e.name,a=e.age,n=e.description,l=e.imageUrl,s=e._id,o=e.deletePet;return r.a.createElement(k.a,{className:"",md:4},r.a.createElement(O.b,{className:"link",to:"/petDetails/".concat(s)},r.a.createElement("div",{className:"buttonPetCard"},r.a.createElement("div",null,r.a.createElement("img",{className:"imgPetCard",src:l,alt:t})),r.a.createElement("div",null,r.a.createElement("h2",null,t,",",a),r.a.createElement("p",null,n)))),r.a.createElement("button",{className:"marginL0",onClick:o.bind(void 0,s)},"Remove ",t))},A=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a._petService.create(a.state.pet).then((function(e){a.props.closeModalWindow(),a.props.update(),a.props.setTheUser(e.data.user)})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;"agresiveWithAnimals"!=n&&"agresiveWithPeople"!=n||(r=e.target.checked),a.setState({pet:Object(C.a)({},a.state.pet,Object(E.a)({},n,r))})},a.handleFileUpload=function(e){a.setState({disabledbutton:!0,buttonText:"Subiendo imagen..."});var t=new FormData;t.append("imageUrl",e.target.files[0]),a._filesService.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),a.setState({disabledbutton:!1,buttonText:"Add your pet",pet:Object(C.a)({},a.state.pet,{imageUrl:e.data.secure_url})})})).catch((function(e){return console.log(e)}))},a._petService=new L,a._filesService=new M,a.state={disabledbutton:!1,buttonText:"Add your pet",pet:{name:"",age:0,description:"",careDetails:"",agresiveWithAnimals:!1,agresiveWithPeople:!1,imageUrl:""}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"picture"),r.a.createElement(f.a.Control,{name:"imageUrl",type:"file",onChange:this.handleFileUpload})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Name"),r.a.createElement(f.a.Control,{type:"text",name:"name",onChange:this.handleInputChange,value:this.state.pet.name})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Age"),r.a.createElement(f.a.Control,{type:"number",name:"age",onChange:this.handleInputChange,value:this.state.pet.age})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Descripci\xf3n"),r.a.createElement(f.a.Control,{type:"text",name:"description",onChange:this.handleInputChange,value:this.state.pet.description})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Care Details"),r.a.createElement(f.a.Control,{type:"text",name:"careDetails",onChange:this.handleInputChange,value:this.state.pet.careDetails})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Is he Agresive with other pets?"),r.a.createElement(f.a.Control,{type:"checkbox",name:"agresiveWithAnimals",onChange:this.handleInputChange,checked:this.state.pet.agresiveWithAnimals})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Is he Agresive with people?"),r.a.createElement(f.a.Control,{type:"checkbox",name:"agresiveWithPeople",onChange:this.handleInputChange,checked:this.state.pet.agresiveWithPeople})),r.a.createElement("button",{variant:"dark",size:"sm",type:"submit",disabled:this.state.disabledbutton},this.state.buttonText))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleShow=function(){return a.setState({showModalWindow:!0})},a.handleClose=function(){return a.setState({showModalWindow:!1})},a.componentDidMount=function(){return a.getProfile()},a.getProfile=function(){a._userService.profile().then((function(e){return a.props.setTheUser(e.data)})).catch((function(e){return console.log(e)}))},a.deletePet=function(e){a._petService.delete(e),a.getProfile()},a._userService=new _,a._petService=new L,a.state={showModalWindow:!1},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.props.loggedInUser?(console.log(this.props.loggedInUser.pets),r.a.createElement("section",{className:"home"},r.a.createElement(v.a,null,r.a.createElement("h1",{className:"marginT orange marginB0"},"Your Pets"),r.a.createElement("button",{className:"marginEdit secMarginB",onClick:this.handleShow},"Add a new pet"),r.a.createElement(N.a,null,this.props.loggedInUser.pets.map((function(t){return r.a.createElement(x,Object.assign({key:t._id},t,{deletePet:e.deletePet.bind(e)}))})))),r.a.createElement(D.a,{show:this.state.showModalWindow,onHide:this.handleClose},r.a.createElement(D.a.Header,{closebutton:!0},r.a.createElement(D.a.Title,null,"Tell us about your pet")),r.a.createElement(D.a.Body,null,r.a.createElement(A,{closeModalWindow:this.handleClose,update:this.getProfile,setTheUser:this.props.setTheUser}))))):null}}]),t}(r.a.Component),G=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.id;a._petService.details(e).then((function(e){return a.setState({pet:e.data})})).catch((function(e){return console.log(e)}))},a.handleSubmit=function(e){e.preventDefault(),console.log(a.state.pet),a._petService.edit(a.state.pet).then((function(e){a.props.closeModalWindow(),a.props.update()})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;"agresiveWithAnimals"!=n&&"agresiveWithPeople"!=n||(r=e.target.checked),a.setState({pet:Object(C.a)({},a.state.pet,Object(E.a)({},n,r))})},a.handleFileUpload=function(e){a.setState({disabledbutton:!0,buttonText:"Subiendo imagen..."});var t=new FormData;t.append("imageUrl",e.target.files[0]),a._filesService.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),a.setState({disabledbutton:!1,buttonText:"Editar usuario",pet:Object(C.a)({},a.state.pet,{imageUrl:e.data.secure_url})})})).catch((function(e){return console.log(e)}))},a._petService=new L,a._filesService=new M,a.state={disabledbutton:!1,buttonText:"editar perfil",pet:{}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Nombre"),r.a.createElement(f.a.Control,{type:"text",name:"name",onChange:this.handleInputChange,value:this.state.pet.name})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Descripci\xf3n"),r.a.createElement(f.a.Control,{type:"text",name:"description",onChange:this.handleInputChange,value:this.state.pet.description})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Age"),r.a.createElement(f.a.Control,{type:"number",name:"age",onChange:this.handleInputChange,value:this.state.pet.age})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Imagen URL (archivo)"),r.a.createElement(f.a.Control,{name:"imageUrl",type:"file",onChange:this.handleFileUpload})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Care Details"),r.a.createElement(f.a.Control,{type:"text",name:"careDetails",onChange:this.handleInputChange,value:this.state.pet.careDetails})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Is he Agresive with other pets?"),r.a.createElement(f.a.Control,{type:"checkbox",name:"agresiveWithAnimals",onChange:this.handleInputChange,checked:this.state.pet.agresiveWithAnimals})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Is he Agresive with people?"),r.a.createElement(f.a.Control,{type:"checkbox",name:"agresiveWithPeople",onChange:this.handleInputChange,checked:this.state.pet.agresiveWithPeople})),r.a.createElement("button",{variant:"dark",size:"sm",type:"submit",disabled:this.state.disabledbutton},this.state.buttonText))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleShow=function(){return a.setState({showModalWindow:!0})},a.handleClose=function(){return a.setState({showModalWindow:!1})},a.componentDidMount=function(){var e=a.props.match.params.id;a._petService.details(e).then((function(e){return a.setState({pet:e.data})})).catch((function(e){return console.log(e)}))},a.agresiveMessage=function(){return a.state.pet.agresiveWithPeople&&a.state.pet.agresiveWithAnimals?r.a.createElement("div",{className:"display"},r.a.createElement("p",{className:"orange "},"Aggressive:"),r.a.createElement("p",null," with People & other Animals")):a.state.pet.agresiveWithPeople?r.a.createElement("div",{className:"display"},r.a.createElement("p",{className:"orange "},"Aggressive:",r.a.createElement("p",null," with People"))):a.state.pet.agresiveWithAnimals?r.a.createElement("div",{className:"display"},r.a.createElement("p",{className:"orange "},"Aggressive: ")," ",r.a.createElement("p",null,"with other Animals")):void 0},a.state={pet:{}},a._petService=new L,a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(v.a,{className:"pet-details"},r.a.createElement("section",{className:"home0"},r.a.createElement("div",{className:"petDetail"},r.a.createElement("h1",{className:"marginD orange "},this.state.pet.name," | Age:",this.state.pet.age),r.a.createElement(N.a,null,r.a.createElement(k.a,{md:6},r.a.createElement("p",null,r.a.createElement("strong",null,"Descripci\xf3n:")," ",this.state.pet.description),r.a.createElement("hr",null),r.a.createElement("p",null,"Care Details: ",this.state.pet.careDetails),r.a.createElement("p",null,this.agresiveMessage()," "),r.a.createElement(O.b,{to:"/myPets",className:"btn btn-dark"},"Volver"),r.a.createElement("button",{variant:"dark",onClick:this.handleShow},"Edit your pet")),r.a.createElement(k.a,{md:{span:4,offset:2}},r.a.createElement("img",{src:this.state.pet.imageUrl,alt:this.state.pet.name})))),r.a.createElement(D.a,{show:this.state.showModalWindow,onHide:this.handleClose},r.a.createElement(D.a.Header,{closebutton:!0},r.a.createElement(D.a.Title,null,"Tell us about your pet")),r.a.createElement(D.a.Body,null,r.a.createElement(G,{closeModalWindow:this.handleClose,update:this.componentDidMount,id:this.state.pet._id})))))}}]),t}(n.Component),Y=a(42),B=function e(){var t=this;Object(o.a)(this,e),this.edit=function(e,a,n,r,l,s,o,i,c,u){return t._service.post("/reservation/edit",{price:e,startDay:a,startMonth:n,startYear:r,endDay:l,endMonth:s,endYear:o,client:i,totalPrice:c})},this.create=function(e,a,n,r,l,s,o){return t._service.post("/reservation/create",{price:e,startDay:a,startMonth:n,startYear:r,endDay:l,endMonth:s,endYear:o})},this.addClient=function(e,a){return t._service("/reservation/addClient",{client:a})},this.details=function(e){return t._service.get("/reservation/details/".concat(e))},this.delete=function(e){return t._service.get("/reservation/delete/".concat(e))},this.getAll=function(){return t._service.get("/reservation")},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},F=a(165),J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.id;a._hostService.details(e).then((function(e){return a.setState({home:e.data})})).catch((function(e){return console.log(e)}))},a.handleSubmit=function(e){e.preventDefault(),console.log(a.state.home),a._hostService.edit(a.state.home).then((function(e){a.props.closeModalWindow(),a.props.update(),console.log(a.state.home)})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;"petGrooming"==n&&(r=e.target.checked),a.setState({home:Object(C.a)({},a.state.home,Object(E.a)({},n,r))})},a.handleFileUpload=function(e){a.setState({disabledbutton:!0,buttonText:"Subiendo imagen..."});var t=new FormData;t.append("imageUrl",e.target.files[0]),a._filesService.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),a.setState({disabledbutton:!1,buttonText:"Edit your home",home:Object(C.a)({},a.state.home,{imageUrl:e.data.secure_url})})})).catch((function(e){return console.log(e)}))},a._hostService=new P,a._filesService=new M,a.state={disabledbutton:!1,buttonText:"editar perfil",home:{}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Imagen URL (archivo)"),r.a.createElement(f.a.Control,{name:"imageUrl",type:"file",onChange:this.handleFileUpload}),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Title"),r.a.createElement(f.a.Control,{type:"text",name:"title",onChange:this.handleInputChange,value:this.state.home.title})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Street"),r.a.createElement(f.a.Control,{type:"text",name:"street",onChange:this.handleInputChange,value:this.state.home.street})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Postal Code"),r.a.createElement(f.a.Control,{type:"number",name:"postalCode",onChange:this.handleInputChange,value:this.state.home.postalCode})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"City"),r.a.createElement(f.a.Control,{type:"text",name:"city",onChange:this.handleInputChange,value:this.state.home.city})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Country"),r.a.createElement(f.a.Control,{type:"text",name:"country",onChange:this.handleInputChange,value:this.state.home.country})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Type of residency"),r.a.createElement(f.a.Control,{as:"select",name:"home",onChange:this.handleInputChange,value:this.state.home.home},r.a.createElement("option",null,"Apartment"),r.a.createElement("option",null,"House")))),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Gruming services"),r.a.createElement(f.a.Control,{name:"petGrooming",type:"checkbox",onChange:this.handleInputChange,checked:this.state.home.petGrooming})),r.a.createElement("button",{variant:"dark",size:"sm",type:"submit",disabled:this.state.disabledbutton},this.state.buttonText))}}]),t}(n.Component),z=a(101),q=a.n(z),V=a(23),$=a.n(V),K=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleEditShow=function(){return a.setState({showModalWindowEdit:!0})},a.handleEditClose=function(){return a.setState({showModalWindowEdit:!1})},a.handleReservationShow=function(){return a.setState({showModalWindowReservation:!0})},a.handleReservationClose=function(){return a.setState({showModalWindowEdit:!1})},a.componentDidMount=function(){return a.getProfile()},a.getProfile=function(){a._userService.profile().then((function(e){console.log(e),a._hostService.details(e.data.home._id).then((function(e){return a.setState({home:e.data})}))})).catch((function(e){return console.log(e)}))},a.petGrooming=function(){if(console.log(Object(Y.a)(a)),a.state.home.petGrooming)return"pet gruming accecible"},a.handleSubmit=function(e){e.preventDefault(),a._reservationService.create(a.state.reservation).then((function(e){console.log(e),a.props.setTheUser(e.data.user)})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({reservation:Object(C.a)({},a.state.reservation,Object(E.a)({},n,r))})},a._userService=new _,a._hostService=new P,a._reservationService=new B;var n=new Date,r=$()(new Date(n.getFullYear(),n.getMonth(),n.getDate())),l=$()(r).add(30,"days").subtract(1,"seconds");return a.applyCallback=a.applyCallback.bind(Object(Y.a)(a)),a.state={home:{},start:r,end:l,reservation:{startDay:0,startMonth:0,startYear:0,endDay:0,endMonth:0,endYear:0,price:15},showModalWindowEdit:!1,showModalWindowReservation:!1},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"applyCallback",value:function(e,t){console.log(t._d),console.log(e);var a=e._d.toString().split(" "),n=t._d.toString().split(" "),r=[],l=[];r.push(a[1],a[2],a[3]),l.push(n[1],n[2],n[3]),console.log(l),"Jan"==r[0]&&r.splice(0,1,"01"),"Feb"==r[0]&&r.splice(0,1,"02"),"Mar"==r[0]&&r.splice(0,1,"03"),"Apr"==r[0]&&r.splice(0,1,"04"),"May"==r[0]&&r.splice(0,1,"05"),"Jun"==r[0]&&r.splice(0,1,"06"),"Jul"==r[0]&&r.splice(0,1,"07"),"Aug"==r[0]&&r.splice(0,1,"08"),"Sep"==r[0]&&r.splice(0,1,"09"),"Oct"==r[0]&&r.splice(0,1,"10"),"Nov"==r[0]&&r.splice(0,1,"11"),"Dec"==r[0]&&r.splice(0,1,"12"),"Jan"==l[0]&&l.splice(0,1,"01"),"Feb"==l[0]&&l.splice(0,1,"02"),"Mar"==l[0]&&l.splice(0,1,"03"),"Apr"==l[0]&&l.splice(0,1,"04"),"May"==l[0]&&l.splice(0,1,"05"),"Jun"==l[0]&&l.splice(0,1,"06"),"Jul"==l[0]&&l.splice(0,1,"07"),"Aug"==l[0]&&l.splice(0,1,"08"),"Sep"==l[0]&&l.splice(0,1,"09"),"Oct"==l[0]&&l.splice(0,1,"10"),"Nov"==l[0]&&l.splice(0,1,"11"),"Dec"==l[0]&&l.splice(0,1,"12");var s=r[1],o=r[0],i=r[2],c=l[1],u=l[0],h=l[2];this.setState({reservation:Object(C.a)({},this.state.reservation,{startDay:s,startMonth:o,startYear:i,endDay:c,endMonth:u,endYear:h})})}},{key:"render",value:function(){var e=new Date,t=$()(new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0));$()(t).add(1,"days").subtract(1,"seconds");return r.a.createElement(v.a,{className:"pet-details"},r.a.createElement("section",{className:"home0"},r.a.createElement("div",{className:""},r.a.createElement("h1",{className:"marginT orange"},this.state.home.title),r.a.createElement(N.a,null,r.a.createElement(k.a,{md:6},r.a.createElement("p",null,r.a.createElement("strong",null,"Address:")," ","".concat(this.state.home.street,", ").concat(this.state.home.city,", ").concat(this.state.home.postalCode,", ").concat(this.state.home.country)),r.a.createElement("p",null,"I live in a ",this.state.home.home),r.a.createElement("p",null,this.petGrooming()," "),r.a.createElement(O.b,{to:"/home",className:"btn btn-dark"},"Volver"),r.a.createElement("button",{variant:"dark",onClick:this.handleEditShow},"Edit your house")),r.a.createElement(k.a,{md:{span:4,offset:2}},r.a.createElement("img",{src:this.state.home.imageUrl,alt:this.state.home.title})),r.a.createElement(k.a,{md:{span:4,offset:2}}))),r.a.createElement("p",null,"Select Dates"),r.a.createElement(q.a,{start:this.state.start,end:this.state.end,local:{format:"DD-MM-YYYY HH:mm",sundayFirst:!1},applyCallback:this.applyCallback},r.a.createElement(F.a,{id:"formControlsTextB",type:"text",label:"Text",placeholder:"Enter text"})),r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,{className:"marginD"},"Pride per day"),r.a.createElement(f.a.Control,{type:"number",name:"price",onChange:this.handleInputChange,value:this.state.reservation.price})),r.a.createElement("button",{variant:"dark",size:"sm",type:"submit"},"Post Reservation")),r.a.createElement(D.a,{show:this.state.showModalWindowEdit,onHide:this.handleEditClose},r.a.createElement(D.a.Header,{closebutton:!0},r.a.createElement(D.a.Title,null,"Edit Details")),r.a.createElement(D.a.Body,null,r.a.createElement(J,{closeModalWindow:this.handleEditClose,update:this.componentDidMount,id:this.state.home._id})))))}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props._id;console.log(e),a._reservationService.details(e).then((function(e){return console.log(e.data),a.setState({reservation:e.data})})).then((function(){a.filter()})).then((function(){a._reservationService.edit(a.state.reservation)})).catch((function(e){return console.log("Error",e)}))},a.filter=function(){var e=parseInt(a.props.searchDetails.startDay),t=parseInt(a.props.searchDetails.startMonth),n=parseInt(a.props.searchDetails.startYear),r=parseInt(a.props.searchDetails.endDay),l=parseInt(a.props.searchDetails.endMonth),s=parseInt(a.props.searchDetails.endYear),o=a.props.price,i=1;do{i++,28==++e&&2==t?(e=0,t++):30==e?4!=t&&6!=t&&9!=t&&11!=t||(e=0,t++):31==e&&(1==t||3==t||5==t||7==t||8==t||10==t?(e=0,t++):12==t&&(n++,t=1,e=0))}while(e!=r&&t!=l&&n!=s);var c=i*o;a.setState({reservation:Object(C.a)({},a.state.reservation,{totalPrice:c})})},a._reservationService=new B,a.home=a.props.details.home,a.state={reservation:{}},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,this.props._id?r.a.createElement(O.b,{className:"modelLink",to:"/reservationDetails/".concat(this.props._id)},r.a.createElement(v.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{className:"modalMarginB"},r.a.createElement(k.a,{md:3},r.a.createElement("img",{className:"modalImg",src:this.home.imageUrl,alt:this.home.title})),r.a.createElement(k.a,{md:7},r.a.createElement("h3",null,this.home.title)),r.a.createElement(k.a,{md:2},r.a.createElement("h3",null,this.state.reservation.totalPrice,"$"))),r.a.createElement("hr",null)))):null)}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a._reservationService.getAll().then((function(e){return console.log(e.data,a.props.search),a.setState({reservations:e.data})})).then((function(){a.filter(),console.log(a.state.result)})).catch((function(e){return console.log("Error",e)}))},a.filter=function(){var e=a.props.search,t=parseFloat(e.startYear)+parseFloat(e.startMonth/100)+parseFloat(e.startDay/1e4),n=parseFloat(e.endYear)+parseFloat(e.endMonth/100)+parseFloat(e.endDay/1e4),r=[];console.log(e),console.log(n);for(var l=0;l<a.state.reservations.length;l++){var s=a.state.reservations[l].startYear+a.state.reservations[l].startMonth/100+a.state.reservations[l].startDay/1e4,o=a.state.reservations[l].endYear+a.state.reservations[l].endMonth/100+a.state.reservations[l].endDay/1e4;console.log(s),console.log(o),console.log(a.state.reservations[l]),(e.startYear||e.city)&&(e.city?e.city==a.state.reservations[l].details.home.city?e.startYear&&(t>=s&&o>=n&&r.push(a.state.reservations[l]),console.log("llegue al final y falle")):console.log(" casi llegue al final y falle"):t>=s&&o>=n&&r.push(a.state.reservations[l]))}return console.log("en la funcion",r),a.setState({result:r})},a._reservationService=new B,a.state={result:[],reservations:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.result.map((function(t){return r.a.createElement(Q,Object.assign({key:t._id},t,{searchDetails:e.props.search}))})))}}]),t}(n.Component),Z=function(e){function t(){var e;Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleSearchShow=function(){return e.setState({showModalWindowSearch:!0})},e.handleSearchClose=function(){return e.setState({showModalWindowSearch:!1})},e.handleSubmit=function(t){t.preventDefault(),e.handleSearchShow()},e.handleInputChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState({reservation:Object(C.a)({},e.state.reservation,Object(E.a)({},n,r))})};var a=new Date,n=$()(new Date(a.getFullYear(),a.getMonth(),a.getDate())),r=$()(n).add(30,"days").subtract(1,"seconds");return e.applyCallback=e.applyCallback.bind(Object(Y.a)(e)),e.state={start:n,end:r,reservation:{startDay:0,startMonth:0,startYear:0,endDay:0,endMonth:0,endYear:0,city:""},showModalWindowSearch:!1},e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"applyCallback",value:function(e,t){console.log(t._d),console.log(e);var a=e._d.toString().split(" "),n=t._d.toString().split(" "),r=[],l=[];r.push(a[1],a[2],a[3]),l.push(n[1],n[2],n[3]),console.log(l),"Jan"==r[0]&&r.splice(0,1,"01"),"Feb"==r[0]&&r.splice(0,1,"02"),"Mar"==r[0]&&r.splice(0,1,"03"),"Apr"==r[0]&&r.splice(0,1,"04"),"May"==r[0]&&r.splice(0,1,"05"),"Jun"==r[0]&&r.splice(0,1,"06"),"Jul"==r[0]&&r.splice(0,1,"07"),"Aug"==r[0]&&r.splice(0,1,"08"),"Sep"==r[0]&&r.splice(0,1,"09"),"Oct"==r[0]&&r.splice(0,1,"10"),"Nov"==r[0]&&r.splice(0,1,"11"),"Dec"==r[0]&&r.splice(0,1,"12"),"Jan"==l[0]&&l.splice(0,1,"01"),"Feb"==l[0]&&l.splice(0,1,"02"),"Mar"==l[0]&&l.splice(0,1,"03"),"Apr"==l[0]&&l.splice(0,1,"04"),"May"==l[0]&&l.splice(0,1,"05"),"Jun"==l[0]&&l.splice(0,1,"06"),"Jul"==l[0]&&l.splice(0,1,"07"),"Aug"==l[0]&&l.splice(0,1,"08"),"Sep"==l[0]&&l.splice(0,1,"09"),"Oct"==l[0]&&l.splice(0,1,"10"),"Nov"==l[0]&&l.splice(0,1,"11"),"Dec"==l[0]&&l.splice(0,1,"12");var s=r[1],o=r[0],i=r[2],c=l[1],u=l[0],h=l[2];this.setState({reservation:Object(C.a)({},this.state.reservation,{startDay:s,startMonth:o,startYear:i,endDay:c,endMonth:u,endYear:h})})}},{key:"render",value:function(){var e=new Date,t=$()(new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0));$()(t).add(1,"days").subtract(1,"seconds");return r.a.createElement("section",{className:"greyBack home"},r.a.createElement(v.a,null,r.a.createElement("h1",{className:"h1"},"PetHotel"),r.a.createElement(N.a,{className:"display around i"},r.a.createElement(k.a,{md:6},r.a.createElement("label",null,"introduce dates"),r.a.createElement(q.a,{start:this.state.start,end:this.state.end,local:{format:"DD-MM-YYYY HH:mm",sundayFirst:!1},applyCallback:this.applyCallback},r.a.createElement(F.a,{id:"formControlsTextB",type:"text",label:"Text",placeholder:"Enter text"}))),r.a.createElement(f.a,{className:"display",onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Where do you need it?"),r.a.createElement(f.a.Control,{type:"string",name:"city",onChange:this.handleInputChange,value:this.state.reservation.city})),r.a.createElement("button",{size:"sm",type:"submit"},r.a.createElement("strong",null,"Search for Peth"))),r.a.createElement("p",{className:"marginP"},"Don't have a user?  ",r.a.createElement(O.b,{className:"link2",to:"/signup"},"SignUp")," || ",r.a.createElement(O.b,{className:"link2",to:"/login"},"LogIn")," ")),r.a.createElement(D.a,{show:this.state.showModalWindowSearch,onHide:this.handleSearchClose},r.a.createElement(D.a.Header,{closebutton:!0},r.a.createElement(D.a.Title,null,"Search Details")),r.a.createElement(D.a.Body,null,r.a.createElement(X,{search:this.state.reservation})))))}}]),t}(n.Component),ee=a(84),te=function e(){var t=this;Object(o.a)(this,e),this.edit=function(e,a,n,r,l,s,o,i,c,u){return t._service.post("/notification/edit",{author:e,pets:a,reciver:n,startDay:r,startMonth:l,startYear:s,endDay:o,endMonth:i,endYear:c})},this.create=function(e,a,n,r,l,s,o,i,c){return t._service.post("/notification/create",{author:e,pets:a,reciver:n,startDay:r,startMonth:l,startYear:s,endDay:o,endMonth:i,endYear:c})},this.details=function(e){return t._service.get("/notification/details/".concat(e))},this.delete=function(e){return t._service.get("/notification/delete/".concat(e))},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},ae=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).petInfo=function(e){a.setState({selectedPet:a.state.reservation.client[e]}),a.handlePetShow()},a.handleHostShow=function(){return a.setState({showModalHostWindow:!0})},a.handleHostClose=function(){return a.setState({showModalHostWindow:!1})},a.handlePetShow=function(){return a.setState({showModalPetWindow:!0})},a.handlePetClose=function(){return a.setState({showModalPetWindow:!1})},a.handleApplyShow=function(){return a.setState({showModalApplyWindow:!0})},a.handleApplyClose=function(){return a.setState({showModalApplyWindow:!1})},a.handleInputChange=function(e){var t=Object(ee.a)(a.state.applicationPet),n=e.target,r=n.name;n.value;if(e.target.checked)t.push(r),console.log(t),a.setState({applicationPet:t});else{var l=t.indexOf(r);t.splice(l,1),console.log(t),a.setState({applicationPet:t})}},a.handleSubmit=function(e){e.preventDefault(),console.log("mande la notificacion");var t=a.state.reservation;a._notificationService.create({author:a.props.loggedInUser._id,reciver:t.details._id,pets:a.state.applicationPet,startDay:t.startDay,startMonth:t.startMonth,startYear:t.startYear,endDay:t.endDay,endMonth:t.endMonth,endYear:t.endYear}),a.props.history.push("/")},a.componentDidMount=function(){console.log(a.props);var e=a.props.match.params.id;a._reservationService.details(e).then((function(e){return a.setState({reservation:e.data})})).then((function(){a._profileService.profile().then((function(e){console.log(e),a.props.setTheUser(e.data)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log("Error",e)}))},a.agresiveMessage=function(){return a.state.selectedPet.agresiveWithPeople&&a.state.selectedPet.agresiveWithAnimals?"Aggressive: with People & other Animals":a.state.selectedPet.agresiveWithPeople?"Aggressive: with People":a.state.selectedPet.agresiveWithAnimals?"Aggressive: with other Animals":void 0},a._reservationService=new B,a._profileService=new _,a._notificationService=new te,a.state={reservation:null,showModalPetWindow:!1,showModalHostWindow:!1,selectedPet:{},applicationPet:[],checked:!1},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.state.reservation&&console.log(this.state.reservation),r.a.createElement("div",null,this.state.reservation?r.a.createElement("div",{className:"whiteBackDetail"},r.a.createElement("section",{className:"backDetails "},r.a.createElement(v.a,null,r.a.createElement("h1",{className:"orange marginT "},this.state.reservation.details.home.title),r.a.createElement(N.a,null,r.a.createElement(k.a,{md:6},r.a.createElement("img",{src:this.state.reservation.details.home.imageUrl,alt:this.state.reservation.details.name})),r.a.createElement(k.a,{md:6},r.a.createElement("div",{className:"display marginD"},r.a.createElement("h3",{className:" orange"},"Address:"),r.a.createElement("p",{className:"marginPR marginP"},this.state.reservation.details.home.street,","," ",this.state.reservation.details.home.city,","," ",this.state.reservation.details.home.postalCode,","," ",this.state.reservation.details.home.country)),r.a.createElement("div",{className:"display "},r.a.createElement("h3",{className:" orange"},"Description:"),r.a.createElement("p",{className:"marginPR marginP"},this.state.reservation.details.description)),r.a.createElement("p",{className:"orange marginPR"},"I Live in a ",this.state.reservation.details.home.home))))),r.a.createElement("section",null,r.a.createElement(v.a,null,r.a.createElement(N.a,null,r.a.createElement(k.a,{md:6},r.a.createElement("h2",{className:"orange textCenter"},"Pets"),this.state.reservation.client[0]?this.state.reservation.client.map((function(t,a){return r.a.createElement("button",{className:"buttonDetails",onClick:function(){return e.petInfo(a)}},r.a.createElement("div",{className:"display around"},r.a.createElement("img",{className:"detailsImg",src:t.imageUrl,alt:t.name}),r.a.createElement("h3",{className:"marginPR"},t.name)))})):r.a.createElement("h4",null,"There are no pet registered, Be the first one")),r.a.createElement(k.a,{md:6},r.a.createElement("h2",{className:" textCenter"},"Author"),r.a.createElement("button",{className:"buttonAuthor",onClick:this.handleHostShow},r.a.createElement("img",{src:this.state.reservation.details.imageUrl,alt:this.state.reservation.details.name}),r.a.createElement("h3",null,this.state.reservation.details.name)))),r.a.createElement(N.a,null,r.a.createElement(k.a,{md:6},r.a.createElement("button",{variant:"dark",onClick:this.handleApplyShow},"Apply")),r.a.createElement(k.a,{md:6},r.a.createElement(O.b,{variant:"dark",to:"/"},"Back"))))),r.a.createElement(D.a,{show:this.state.showModalHostWindow,onHide:this.handleHostClose},r.a.createElement(D.a.Header,{closebutton:!0},r.a.createElement(D.a.Title,null,"Author info")),r.a.createElement(D.a.Body,null,r.a.createElement("img",{src:this.state.reservation.details.imageUrl,alt:this.state.reservation.details.name}),r.a.createElement("h3",null,this.state.reservation.details.name),r.a.createElement("hr",null),r.a.createElement("p",null,this.state.reservation.details.description),r.a.createElement("p",null,this.state.reservation.details.phone),r.a.createElement("button",{onClick:this.handleHostClose},"Back"))),r.a.createElement(D.a,{show:this.state.showModalPetWindow,onHide:this.handlePetClose},r.a.createElement(D.a.Header,{closebutton:!0},r.a.createElement(D.a.Title,null,"Pet info")),r.a.createElement(D.a.Body,null,r.a.createElement("img",{src:this.state.selectedPet.imageUrl,alt:this.state.selectedPet.name}),r.a.createElement("h3",null,this.state.selectedPet.name),r.a.createElement("hr",null),r.a.createElement("p",null,this.state.selectedPet.description),r.a.createElement("p",null,this.state.selectedPet.careDetails),r.a.createElement("p",null,this.agresiveMessage()),r.a.createElement("button",{onClick:this.handlePetClose},"Back"))),r.a.createElement(D.a,{show:this.state.showModalApplyWindow,onHide:this.handleApplyClose},r.a.createElement(D.a.Header,{closebutton:!0},r.a.createElement(D.a.Title,null,"Select pets")),r.a.createElement(D.a.Body,null,r.a.createElement(f.a,{onSubmit:this.handleSubmit},this.props.loggedInUser.pets.map((function(t){return r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,r.a.createElement("div",null,r.a.createElement("img",{src:t.imageUrl,alt:t.name}),r.a.createElement("h3",null,t.name))),r.a.createElement(f.a.Control,{name:t._id,type:"checkbox",onChange:e.handleInputChange,value:e.state.checked}))})),r.a.createElement("button",{variant:"dark",type:"submit"},"Apply"),r.a.createElement("button",{variant:"dark",onClick:this.handleApplyClose},"Back"))))):null)}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleHostShow=function(){return a.setState({showModalHostWindow:!0})},a.handleHostClose=function(){return a.setState({showModalHostWindow:!1})},a.handleEditShow=function(){return a.setState({showModalEditWindow:!0})},a.handleEditClose=function(){return a.setState({showModalEditWindow:!1})},a.componentDidMount=function(){a._profileService.profile().then((function(e){console.log(e.data),a.props.setTheUser(e.data),a.setState({user:e.data})})).catch((function(e){return console.log(e)}))},a._profileService=new _,a.state={user:{},showModalEditWindow:!1,showModalHostWindow:!1},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("h1",{className:"resH1 "},"My Reservations"),"host"==this.state.user.class?r.a.createElement("div",{className:"display evenly"},r.a.createElement("div",null,r.a.createElement("h2",null,"Reservations for your Pets"),this.state.user.petReservation.map((function(e){return e.client.map((function(e){return r.a.createElement("div",{className:"modalMarginB"},r.a.createElement("img",{className:"myResImg",src:e.imageUrl,alt:e.name}),r.a.createElement("h4",{className:"myResP"},e.name))}))}))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("h2",null,"Reservations on your house"),r.a.createElement("div",{className:"textCenter"},r.a.createElement("img",{className:"myResImg2",src:this.state.user.houseReservation.details.home.imageUrl,alt:this.state.user.houseReservation.details.home.title}),r.a.createElement("h3",null,this.state.user.houseReservation.details.home.title),this.state.user.houseReservation.client.map((function(e){return r.a.createElement("img",{src:e.imageUrl,alt:e.name})})))))):r.a.createElement("div",null,r.a.createElement("h2",null,"Reservations for your Pets"),this.state.user.petReservation?this.state.user.petReservation.map((function(e){return e.client.map((function(e){return r.a.createElement("img",{src:e.imageUrl,alt:e.name})}))})):null))}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleShow=function(){return a.setState({showModalWindow:!0})},a.handleClose=function(){return a.setState({showModalWindow:!1})},a.componentDidMount=function(){var e=a.props.match.params.id;a._notificationService.details(e).then((function(e){return a.setState({notification:e.data})})).then((function(e){return console.log(a.state.notification)})).catch((function(e){return console.log(e)}))},a.agresiveMessage=function(e){return e.agresiveWithPeople&&e.agresiveWithAnimals?r.a.createElement("div",{className:"display"},r.a.createElement("p",{className:"orange "},"Aggressive:"),r.a.createElement("p",null," with People & other Animals")):e.agresiveWithPeople?r.a.createElement("div",{className:"display"},r.a.createElement("p",{className:"orange "},"Aggressive:",r.a.createElement("p",null," with People"))):e.agresiveWithAnimals?r.a.createElement("div",{className:"display"},r.a.createElement("p",{className:"orange "},"Aggressive: ")," ",r.a.createElement("p",null,"with other Animals")):void 0},a.accept=function(e){var t=Object(ee.a)(a.state.notification.pets);t=t.map((function(e){return e._id})),a._profileService.edit({_id:a.state.notification.author._id,petReservation:a.state.notification.reciver.houseReservation,name:a.state.notification.reciver.name,description:a.state.notification.reciver.description,phone:a.state.notification.reciver.phone,imageUrl:a.state.notification.reciver.imageUrl,copyPets:t}),a.props.history.push("/")},a.eliminateNotification=function(e){var t=a.state.notification.reciver.notification.indexOf(a.state.notification._id),n=Object(ee.a)(a.state.notification.reciver.notification);n.splice(t,1),a._profileService.edit({_id:a.state.notification.reciver._id,notification:n,name:a.state.notification.reciver.name,description:a.state.notification.reciver.description,phone:a.state.notification.reciver.phone,imageUrl:a.state.notification.reciver.imageUrl,petReservation:a.state.notification.reciver.houseReservation}),a._notificationService.delete(a.state.notification.reciver._id),a.props.history.push("/")},a.state={notification:{}},a._notificationService=new te,a._profileService=new _,a._reservationService=new B,a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"backDetails"},r.a.createElement(v.a,{className:"pet-details"},r.a.createElement("h1",{className:"orange marginT"},"Petition"),r.a.createElement("section",{className:"home whiteBack"},r.a.createElement(N.a,null,r.a.createElement("h3",{className:"marginP"},r.a.createElement("strong",{className:"orange"},"Reservation From: "),this.state.notification.startDay,"/",this.state.notification.startMonth,"/",this.state.notification.startYear," To:"," ",this.state.notification.endDay,"/",this.state.notification.endMonth,"/",this.state.notification.endYear),r.a.createElement(k.a,{md:7},this.state.notification.pets&&this.state.notification.pets.map((function(t){return r.a.createElement("div",null,r.a.createElement(N.a,null,r.a.createElement(k.a,{sm:5},r.a.createElement("img",{className:"imgPetition",src:t.imageUrl,alt:t.name})),r.a.createElement(k.a,{sm:7},r.a.createElement("h1",{className:"orange"},t.name," | Age:",t.age),r.a.createElement("p",null,r.a.createElement("strong",{className:"orange"},"Descripci\xf3n:")," ",t.description),r.a.createElement("hr",null),r.a.createElement("p",null,r.a.createElement("strong",{className:"orange"},"Care Details: "),t.careDetails),r.a.createElement("p",null,e.agresiveMessage(t)," "))))}))),r.a.createElement(k.a,{md:5},this.state.notification.author&&r.a.createElement("div",null,r.a.createElement("img",{src:this.state.notification.author.imageUrl,alt:this.state.notification.author.name}),r.a.createElement("p",null,r.a.createElement("strong",{className:"orange"},"Name:")," ",this.state.notification.author.name),r.a.createElement("p",null,r.a.createElement("strong",{className:"orange"},"Phone Number:")," ",this.state.notification.author.phone),r.a.createElement("p",null,r.a.createElement("strong",{className:"orange"},"Descriotion:")," ",this.state.notification.author.description)))),r.a.createElement("button",{as:O.b,to:"/",onClick:this.accept},"Accept"),r.a.createElement("button",{onClick:this.eliminateNotification},"Decline"))))}}]),t}(n.Component),le=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).setTheUser=function(t){e.setState({loggedInUser:t})},e.fetchUser=function(){null===e.state.loggedInUser&&e._service.loggedin().then((function(t){e.setState({loggedInUser:t.data})})).catch((function(t){e.setState({loggedInUser:!1}),console.log({err:t})}))},e.state={loggedInUser:null},e._service=new g,e}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return this.fetchUser(),r.a.createElement(r.a.Fragment,null,r.a.createElement(j,{loggedInUser:this.state.loggedInUser,setUser:this.setTheUser}),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:Z}),r.a.createElement(m.a,{path:"/signup",render:function(t){return r.a.createElement(b,Object.assign({setUser:e.setTheUser},t))}}),r.a.createElement(m.a,{path:"/login",render:function(t){return r.a.createElement(y,Object.assign({setUser:e.setTheUser},t))}}),r.a.createElement(m.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(T,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser})}}),r.a.createElement(m.a,{exact:!0,path:"/myPets",render:function(){return r.a.createElement(H,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser})}}),r.a.createElement(m.a,{path:"/petDetails/:id",component:R}),r.a.createElement(m.a,{exact:!0,path:"/myHome",render:function(){return r.a.createElement(K,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser})}}),r.a.createElement(m.a,{exact:!0,path:"/reservationDetails/:id",render:function(t){return r.a.createElement(ae,Object.assign({},t,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser}))}}),r.a.createElement(m.a,{path:"/requestDetail/:id",component:re}),r.a.createElement(m.a,{exact:!0,path:"/reservations",render:function(){return r.a.createElement(ne,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(292),a(293);s.a.render(r.a.createElement(O.a,null,r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[174,1,2]]]);
//# sourceMappingURL=main.2999b00d.chunk.js.map