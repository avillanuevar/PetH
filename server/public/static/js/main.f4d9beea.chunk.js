(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{175:function(e,t,a){e.exports=a(295)},294:function(e,t,a){},295:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),o=a.n(l),i=a(12),s=a(13),c=a(15),u=a(14),h=a(16),m=a(59),d=a(28),p=a.n(d),g=function e(){var t=this;Object(i.a)(this,e),this.signup=function(e,a,n){return t._service.post("/auth/signup",{username:e,password:a,name:n})},this.login=function(e,a){return t._service.post("/auth/login",{username:e,password:a})},this.logout=function(){return t._service.post("/auth/logout")},this.loggedin=function(){return t._service.get("/auth/loggedin")},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},v=a(22),E=a(297),f=a(301),b=a(167),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.username,r=t.password,l=t.name;a._service.signup(n,r,l).then((function(e){a.props.setUser(e.data),a.setState({username:"",password:"",name:""}),a.props.history.push("/")})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(v.a)({},n,r))},a._service=new g,a.state={username:"",password:"",name:""},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement("h1",null,"Registro"),r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Email"),r.a.createElement(f.a.Control,{type:"email",name:"username",onChange:this.handleInputChange,value:this.state.username})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Name"),r.a.createElement(f.a.Control,{type:"text",name:"name",onChange:this.handleInputChange,value:this.state.name})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Contrase\xf1a"),r.a.createElement(f.a.Control,{type:"text",name:"password",onChange:this.handleInputChange,value:this.state.password})),r.a.createElement(b.a,{variant:"dark",type:"submit"},"Registrarme")))}}]),t}(n.Component),w=a(19),y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({user:Object(w.a)({},a.state.user,Object(v.a)({},n,r))})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.user,n=t.username,r=t.password;a._service.login(n,r).then((function(e){a.props.setUser(e.data),a.setState({username:"",password:""}),a.props.history.push("/")})).catch((function(e){a.handleToastOpen(e.response.data.message)}))},a.handleToastClose=function(){return a.setState({showToast:!1,toastText:""})},a.handleToastOpen=function(e){return a.setState({showToast:!0,toastText:e})},a._service=new g,a.state={showToast:!1,toastText:"",user:{username:"",password:""}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Iniciar sesi\xf3n"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("label",null,"Usuario"),r.a.createElement("input",{type:"text",name:"username",onChange:this.handleInputChange,value:this.state.username})),r.a.createElement("div",null,r.a.createElement("label",null,"Contrase\xf1a"),r.a.createElement("input",{type:"password",name:"password",onChange:this.handleInputChange,value:this.state.password})),r.a.createElement("button",{type:"submit"},"Iniciar sesi\xf3n")))}}]),t}(n.Component),S=a(303),U=a(302),O=a(300),_=a(18),j=function e(){var t=this;Object(i.a)(this,e),this.edit=function(e,a,n,r,l){return t._service.post("/profile/edit",{phone:n,description:a,imageUrl:e,name:r})},this.profile=function(){return t._service.get("/profile")},this.addReservation=function(e,a){return t._service("/profile/addReservation",{petReservation:a})},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).host=function(){return"host"==a.props.loggedInUser.class&&r.a.createElement(S.a.Link,{as:"li"},r.a.createElement(_.b,{to:"/myHome"},"My Home"))},a.componentDidMount=function(){a._profileService.profile().then((function(e){console.log(e),a.props.setUser(e.data)})).catch((function(e){return console.log(e)}))},a._authService=new g,a._profileService=new j,a.state={reservationRecuest:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.loggedInUser?this.props.loggedInUser.name:"Guest";return this.props.loggedInUser?r.a.createElement(U.a,{className:"nav",expand:"md"},r.a.createElement(U.a.Brand,null,r.a.createElement(S.a.Link,{as:"li"},r.a.createElement(_.b,{className:"link",to:"/"},"PetH"))),r.a.createElement(U.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(U.a.Collapse,null,r.a.createElement(S.a,{className:"mr-auto"},r.a.createElement(S.a.Link,{as:"li"},r.a.createElement(_.b,{to:"/profile"},"Profile")),r.a.createElement(S.a.Link,{as:"li"},r.a.createElement(_.b,{to:"/myPets"},"Pets")),r.a.createElement(S.a.Link,{as:"li"},r.a.createElement(_.b,{to:"/reservations"},"Reservations")),this.host(),r.a.createElement(O.a,{title:"Notifications",id:"basic-nav-dropdown"},this.props.loggedInUser.notification&&this.props.loggedInUser.notification.map((function(e){return r.a.createElement(O.a.Item,null,r.a.createElement(_.b,{to:"requestDetail/".concat(e._id)},"New Request"))}))),r.a.createElement(S.a.Link,{className:"ml-auto",as:"li",onClick:this.logoutUser},"Logout")),r.a.createElement(S.a,{className:"ml-auto"},r.a.createElement(U.a.Text,null,"Welcome ",e)))):r.a.createElement(U.a,{bg:"dark",variant:"dark",expand:"md"},r.a.createElement(U.a.Brand,null,"PetVille"),r.a.createElement(U.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(U.a.Collapse,null,r.a.createElement(S.a,{className:"mr-auto"},r.a.createElement(S.a.Link,{as:"li"},r.a.createElement(_.b,{to:"/"},"Home")),r.a.createElement(S.a.Link,{as:"li"},r.a.createElement(_.b,{to:"/signup"},"SignUp")),r.a.createElement(S.a.Link,{as:"li"},r.a.createElement(_.b,{to:"/login"},"Login"))),r.a.createElement(S.a,{className:"ml-auto"},r.a.createElement(U.a.Text,null,"Welcome ",e))))}}]),t}(n.Component),k=a(298),D=a(166),I=a(299),P=function e(){var t=this;Object(i.a)(this,e),this.handleUpload=function(e){return t._service.post("/files/upload",e)},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},W=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a._userService.edit(a.state.user).then((function(e){a.props.closeModalWindow(),a.props.update(e.data)})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({user:Object(w.a)({},a.state.user,Object(v.a)({},n,r))})},a.handleFileUpload=function(e){a.setState({disabledButton:!0,buttonText:"Subiendo imagen..."});var t=new FormData;t.append("imageUrl",e.target.files[0]),a._filesService.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),a.setState({disabledButton:!1,buttonText:"Editar usuario",user:Object(w.a)({},a.state.user,{imageUrl:e.data.secure_url})})})).catch((function(e){return console.log(e)}))},a._userService=new j,a._filesService=new P,a.state={disabledButton:!1,buttonText:"editar perfil",user:{name:a.props.content.name,description:a.props.content.description,phone:a.props.content.phone,imageUrl:a.props.content.imageUrl,_id:a.props.content._id}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Nombre"),r.a.createElement(f.a.Control,{type:"text",name:"name",onChange:this.handleInputChange,value:this.state.user.name})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Descripci\xf3n"),r.a.createElement(f.a.Control,{type:"text",name:"description",onChange:this.handleInputChange,value:this.state.user.description})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Phone Number"),r.a.createElement(f.a.Control,{type:"number",name:"phone",onChange:this.handleInputChange,value:this.state.user.phone})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Imagen URL (archivo)"),r.a.createElement(f.a.Control,{name:"imageUrl",type:"file",onChange:this.handleFileUpload})),r.a.createElement(b.a,{variant:"dark",size:"sm",type:"submit",disabled:this.state.disabledButton},this.state.buttonText))}}]),t}(n.Component),T=function e(){var t=this;Object(i.a)(this,e),this.edit=function(e){var a=e.title,n=e.imageUrl,r=e.street,l=e.postalCode,o=e.city,i=e.country,s=e.home,c=e.owner,u=e.standardPrice,h=e.petGrooming,m=e._id;return console.log(r),t._service.post("/host/edit",{title:a,imageUrl:n,street:r,postalCode:l,city:o,country:i,home:s,owner:c,standardPrice:u,petGrooming:h,_id:m})},this.create=function(e,a,n,r,l,o,i,s,c,u){return t._service.post("/host/create",{title:e,imageUrl:a,street:n,postalCode:r,city:l,country:o,home:i,owner:s,standardPrice:c,petGrooming:u})},this.details=function(e){return t._service.get("/host/details/".concat(e))},this.delete=function(e){return t._service.get("/host/delete/".concat(e))},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a._hostService.create(a.state.home).then((function(e){a.props.closeModalWindow(),a.props.update(),a.props.setTheUser(e.data.user)})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;"petGrooming"==n&&(r=e.target.checked),a.setState({home:Object(w.a)({},a.state.home,Object(v.a)({},n,r))})},a.handleFileUpload=function(e){a.setState({disabledButton:!0,buttonText:"Subiendo imagen..."});var t=new FormData;t.append("imageUrl",e.target.files[0]),a._filesService.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),a.setState({disabledButton:!1,buttonText:"Add ypur home",home:Object(w.a)({},a.state.home,{imageUrl:e.data.secure_url})})})).catch((function(e){return console.log(e)}))},a._hostService=new T,a._filesService=new P,a.state={disabledButton:!1,buttonText:"Add your home",home:{title:"",imageUrl:"",street:"",postalCode:0,city:"",country:"",home:"",standardPrice:15,petGrooming:!1}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Imagen URL (archivo)"),r.a.createElement(f.a.Control,{name:"imageUrl",type:"file",onChange:this.handleFileUpload}),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Title"),r.a.createElement(f.a.Control,{type:"text",name:"title",onChange:this.handleInputChange,value:this.state.home.title})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Street"),r.a.createElement(f.a.Control,{type:"text",name:"street",onChange:this.handleInputChange,value:this.state.home.street})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Postal Code"),r.a.createElement(f.a.Control,{type:"number",name:"postalCode",onChange:this.handleInputChange,value:this.state.home.postalCode})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"City"),r.a.createElement(f.a.Control,{type:"text",name:"city",onChange:this.handleInputChange,value:this.state.home.city})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Country"),r.a.createElement(f.a.Control,{type:"text",name:"country",onChange:this.handleInputChange,value:this.state.home.country})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Type of residency"),r.a.createElement(f.a.Control,{as:"select",name:"home",onChange:this.handleInputChange,value:this.state.home.home},r.a.createElement("option",null,"Selecte one"),r.a.createElement("option",null,"Apartment"),r.a.createElement("option",null,"House")))),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Gruming services"),r.a.createElement(f.a.Control,{name:"petGrooming",type:"checkbox",onChange:this.handleInputChange,checked:this.state.home.petGrooming})),r.a.createElement(b.a,{variant:"dark",size:"sm",type:"submit",disabled:this.state.disabledButton},this.state.buttonText))}}]),t}(n.Component),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleHostShow=function(){return a.setState({showModalHostWindow:!0})},a.handleHostClose=function(){return a.setState({showModalHostWindow:!1})},a.handleEditShow=function(){return a.setState({showModalEditWindow:!0})},a.handleEditClose=function(){return a.setState({showModalEditWindow:!1})},a.componentDidMount=function(){return a.getProfile()},a.getProfile=function(){a._profileService.profile().then((function(e){console.log(e),a.props.setTheUser(e.data)})).catch((function(e){return console.log(e)}))},a._profileService=new j,a.state={showModalEditWindow:!1,showModalHostWindow:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.loggedInUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null,r.a.createElement("h1",null,"Profile"),r.a.createElement(b.a,{variant:"dark",onClick:this.handleHostShow},"Become a Host"),r.a.createElement(k.a,null,r.a.createElement(D.a,{md:6},r.a.createElement("img",{className:"img",src:this.props.loggedInUser.imageUrl,alt:this.props.loggedInUser.name})),r.a.createElement(D.a,{md:6},r.a.createElement("p",null,r.a.createElement("strong",null,"Name:")," ",this.props.loggedInUser.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Phone Number:")," ",this.props.loggedInUser.phone),r.a.createElement("p",null,r.a.createElement("strong",null,"Descriotion:")," ",this.props.loggedInUser.description),r.a.createElement(b.a,{variant:"dark",onClick:this.handleEditShow},"Editar Usuario"))),r.a.createElement(k.a,null,r.a.createElement(D.a,{md:6},this.props.loggedInUser.pets.map((function(e){return r.a.createElement(_.b,{to:"/petDetails/".concat(e._id)},r.a.createElement("img",{src:e.imageUrl}),r.a.createElement("p",null,e.name))}))),"host"==this.props.loggedInUser.class&&r.a.createElement(D.a,{md:6},r.a.createElement(_.b,{to:"/myHome"},r.a.createElement("img",{src:this.props.loggedInUser.home.imageUrl}),r.a.createElement("p",null,this.props.loggedInUser.home.title))))),r.a.createElement(I.a,{show:this.state.showModalEditWindow,onHide:this.handleEditClose},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,null,"Edit Profile")),r.a.createElement(I.a.Body,null,r.a.createElement(W,{closeModalWindow:this.handleEditClose,update:this.props.setTheUser,content:this.props.loggedInUser}))),r.a.createElement(I.a,{show:this.state.showModalHostWindow,onHide:this.handleHostClose},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,null,"Become a host")),r.a.createElement(I.a.Body,null,r.a.createElement(L,{closeModalWindow:this.handleHostClose,update:this.getProfile,setTheUser:this.props.setTheUser})))):null}}]),t}(n.Component),A=function e(){var t=this;Object(i.a)(this,e),this.edit=function(e,a,n,r,l,o,i,s){return t._service.post("/pets/edit",{name:e,age:a,description:n,careDetails:r,agresiveWithAnimals:l,agresiveWithPeople:o,imageUrl:i})},this.create=function(e,a,n,r,l,o,i){return t._service.post("/pets/create",{name:e,age:a,description:n,careDetails:r,agresiveWithAnimals:l,agresiveWithPeople:o,imageUrl:i})},this.details=function(e){return t._service.get("pets/details/".concat(e))},this.delete=function(e){return t._service.get("pets/delete/".concat(e))},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},G=function(e){var t=e.name,a=e.age,n=e.description,l=e.imageUrl,o=e._id,i=e.deletePet;return r.a.createElement(D.a,{className:"",md:4},r.a.createElement(_.b,{className:"btn btn-sm btn-dark",to:"/petDetails/".concat(o)},r.a.createElement("div",null,r.a.createElement("img",{src:l,alt:t})),r.a.createElement("div",null,r.a.createElement("h2",null,t,",",a),r.a.createElement("p",null,n))),r.a.createElement(b.a,{variant:"dark",onClick:i.bind(void 0,o)},"Remove ",t," from your list"))},H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a._petService.create(a.state.pet).then((function(e){a.props.closeModalWindow(),a.props.update(),a.props.setTheUser(e.data.user)})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;"agresiveWithAnimals"!=n&&"agresiveWithPeople"!=n||(r=e.target.checked),a.setState({pet:Object(w.a)({},a.state.pet,Object(v.a)({},n,r))})},a.handleFileUpload=function(e){a.setState({disabledButton:!0,buttonText:"Subiendo imagen..."});var t=new FormData;t.append("imageUrl",e.target.files[0]),a._filesService.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),a.setState({disabledButton:!1,buttonText:"Add your pet",pet:Object(w.a)({},a.state.pet,{imageUrl:e.data.secure_url})})})).catch((function(e){return console.log(e)}))},a._petService=new A,a._filesService=new P,a.state={disabledButton:!1,buttonText:"Add your pet",pet:{name:"",age:0,description:"",careDetails:"",agresiveWithAnimals:!1,agresiveWithPeople:!1,imageUrl:""}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"picture"),r.a.createElement(f.a.Control,{name:"imageUrl",type:"file",onChange:this.handleFileUpload})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Name"),r.a.createElement(f.a.Control,{type:"text",name:"name",onChange:this.handleInputChange,value:this.state.pet.name})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Age"),r.a.createElement(f.a.Control,{type:"number",name:"age",onChange:this.handleInputChange,value:this.state.pet.age})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Descripci\xf3n"),r.a.createElement(f.a.Control,{type:"text",name:"description",onChange:this.handleInputChange,value:this.state.pet.description})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Care Details"),r.a.createElement(f.a.Control,{type:"text",name:"careDetails",onChange:this.handleInputChange,value:this.state.pet.careDetails})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Is he Agresive with other pets?"),r.a.createElement(f.a.Control,{type:"checkbox",name:"agresiveWithAnimals",onChange:this.handleInputChange,checked:this.state.pet.agresiveWithAnimals})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Is he Agresive with people?"),r.a.createElement(f.a.Control,{type:"checkbox",name:"agresiveWithPeople",onChange:this.handleInputChange,checked:this.state.pet.agresiveWithPeople})),r.a.createElement(b.a,{variant:"dark",size:"sm",type:"submit",disabled:this.state.disabledButton},this.state.buttonText))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleShow=function(){return a.setState({showModalWindow:!0})},a.handleClose=function(){return a.setState({showModalWindow:!1})},a.componentDidMount=function(){return a.getProfile()},a.getProfile=function(){a._userService.profile().then((function(e){return a.props.setTheUser(e.data)})).catch((function(e){return console.log(e)}))},a.deletePet=function(e){a._petService.delete(e),a.getProfile()},a._userService=new j,a._petService=new A,a.state={showModalWindow:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.props.loggedInUser?(console.log(this.props.loggedInUser.pets),r.a.createElement("section",null,r.a.createElement(E.a,null,r.a.createElement("h1",null,"Your Pets"),r.a.createElement(b.a,{variant:"dark",onClick:this.handleShow},"Add a new pet"),r.a.createElement(k.a,null,this.props.loggedInUser.pets.map((function(t){return r.a.createElement(G,Object.assign({key:t._id},t,{deletePet:e.deletePet.bind(e)}))})))),r.a.createElement(I.a,{show:this.state.showModalWindow,onHide:this.handleClose},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,null,"Tell us about your pet")),r.a.createElement(I.a.Body,null,r.a.createElement(H,{closeModalWindow:this.handleClose,update:this.getProfile,setTheUser:this.props.setTheUser}))))):null}}]),t}(r.a.Component),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.id;a._petService.details(e).then((function(e){return a.setState({pet:e.data})})).catch((function(e){return console.log(e)}))},a.handleSubmit=function(e){e.preventDefault(),console.log(a.state.pet),a._petService.edit(a.state.pet).then((function(e){a.props.closeModalWindow(),a.props.update()})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;"agresiveWithAnimals"!=n&&"agresiveWithPeople"!=n||(r=e.target.checked),a.setState({pet:Object(w.a)({},a.state.pet,Object(v.a)({},n,r))})},a.handleFileUpload=function(e){a.setState({disabledButton:!0,buttonText:"Subiendo imagen..."});var t=new FormData;t.append("imageUrl",e.target.files[0]),a._filesService.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),a.setState({disabledButton:!1,buttonText:"Editar usuario",pet:Object(w.a)({},a.state.pet,{imageUrl:e.data.secure_url})})})).catch((function(e){return console.log(e)}))},a._petService=new A,a._filesService=new P,a.state={disabledButton:!1,buttonText:"editar perfil",pet:{}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Nombre"),r.a.createElement(f.a.Control,{type:"text",name:"name",onChange:this.handleInputChange,value:this.state.pet.name})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Descripci\xf3n"),r.a.createElement(f.a.Control,{type:"text",name:"description",onChange:this.handleInputChange,value:this.state.pet.description})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Age"),r.a.createElement(f.a.Control,{type:"number",name:"age",onChange:this.handleInputChange,value:this.state.pet.age})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Imagen URL (archivo)"),r.a.createElement(f.a.Control,{name:"imageUrl",type:"file",onChange:this.handleFileUpload})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Care Details"),r.a.createElement(f.a.Control,{type:"text",name:"careDetails",onChange:this.handleInputChange,value:this.state.pet.careDetails})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Is he Agresive with other pets?"),r.a.createElement(f.a.Control,{type:"checkbox",name:"agresiveWithAnimals",onChange:this.handleInputChange,checked:this.state.pet.agresiveWithAnimals})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Is he Agresive with people?"),r.a.createElement(f.a.Control,{type:"checkbox",name:"agresiveWithPeople",onChange:this.handleInputChange,checked:this.state.pet.agresiveWithPeople})),r.a.createElement(b.a,{variant:"dark",size:"sm",type:"submit",disabled:this.state.disabledButton},this.state.buttonText))}}]),t}(n.Component),Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleShow=function(){return a.setState({showModalWindow:!0})},a.handleClose=function(){return a.setState({showModalWindow:!1})},a.componentDidMount=function(){var e=a.props.match.params.id;a._petService.details(e).then((function(e){return a.setState({pet:e.data})})).catch((function(e){return console.log(e)}))},a.agresiveMessage=function(){return a.state.pet.agresiveWithPeople&&a.state.pet.agresiveWithAnimals?"Aggressive: with People & other Animals":a.state.pet.agresiveWithPeople?"Aggressive: with People":a.state.pet.agresiveWithAnimals?"Aggressive: with other Animals":void 0},a.state={pet:{}},a._petService=new A,a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{className:"pet-details"},r.a.createElement("section",null,r.a.createElement(k.a,null,r.a.createElement(D.a,{md:6},r.a.createElement("h1",null,this.state.pet.name," | Age:",this.state.pet.age),r.a.createElement("p",null,r.a.createElement("strong",null,"Descripci\xf3n:")," ",this.state.pet.description),r.a.createElement("hr",null),r.a.createElement("p",null,"Care Details: ",this.state.pet.careDetails),r.a.createElement("p",null,this.agresiveMessage()," "),r.a.createElement(_.b,{to:"/myPets",className:"btn btn-dark"},"Volver"),r.a.createElement(b.a,{variant:"dark",onClick:this.handleShow},"Edit your pet")),r.a.createElement(D.a,{md:{span:4,offset:2}},r.a.createElement("img",{src:this.state.pet.imageUrl,alt:this.state.pet.name}))),r.a.createElement(I.a,{show:this.state.showModalWindow,onHide:this.handleClose},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,null,"Tell us about your pet")),r.a.createElement(I.a.Body,null,r.a.createElement(R,{closeModalWindow:this.handleClose,update:this.componentDidMount,id:this.state.pet._id})))))}}]),t}(n.Component),F=a(42),N=function e(){var t=this;Object(i.a)(this,e),this.edit=function(e,a,n,r,l,o,i,s,c,u){return t._service.post("/reservation/edit",{price:e,startDay:a,startMonth:n,startYear:r,endDay:l,endMonth:o,endYear:i,client:s,totalPrice:c})},this.create=function(e,a,n,r,l,o,i){return t._service.post("/reservation/create",{price:e,startDay:a,startMonth:n,startYear:r,endDay:l,endMonth:o,endYear:i})},this.addClient=function(e,a){return t._service("/reservation/addClient",{client:a})},this.details=function(e){return t._service.get("/reservation/details/".concat(e))},this.delete=function(e){return t._service.get("/reservation/delete/".concat(e))},this.getAll=function(){return t._service.get("/reservation")},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},J=a(165),z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.id;a._hostService.details(e).then((function(e){return a.setState({home:e.data})})).catch((function(e){return console.log(e)}))},a.handleSubmit=function(e){e.preventDefault(),console.log(a.state.home),a._hostService.edit(a.state.home).then((function(e){a.props.closeModalWindow(),a.props.update(),console.log(a.state.home)})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;"petGrooming"==n&&(r=e.target.checked),a.setState({home:Object(w.a)({},a.state.home,Object(v.a)({},n,r))})},a.handleFileUpload=function(e){a.setState({disabledButton:!0,buttonText:"Subiendo imagen..."});var t=new FormData;t.append("imageUrl",e.target.files[0]),a._filesService.handleUpload(t).then((function(e){console.log("Subida de archivo finalizada! La URL de Cloudinray es: ",e.data.secure_url),a.setState({disabledButton:!1,buttonText:"Edit your home",home:Object(w.a)({},a.state.home,{imageUrl:e.data.secure_url})})})).catch((function(e){return console.log(e)}))},a._hostService=new T,a._filesService=new P,a.state={disabledButton:!1,buttonText:"editar perfil",home:{}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Imagen URL (archivo)"),r.a.createElement(f.a.Control,{name:"imageUrl",type:"file",onChange:this.handleFileUpload}),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Title"),r.a.createElement(f.a.Control,{type:"text",name:"title",onChange:this.handleInputChange,value:this.state.home.title})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Street"),r.a.createElement(f.a.Control,{type:"text",name:"street",onChange:this.handleInputChange,value:this.state.home.street})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Postal Code"),r.a.createElement(f.a.Control,{type:"number",name:"postalCode",onChange:this.handleInputChange,value:this.state.home.postalCode})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"City"),r.a.createElement(f.a.Control,{type:"text",name:"city",onChange:this.handleInputChange,value:this.state.home.city})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Country"),r.a.createElement(f.a.Control,{type:"text",name:"country",onChange:this.handleInputChange,value:this.state.home.country})),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Type of residency"),r.a.createElement(f.a.Control,{as:"select",name:"home",onChange:this.handleInputChange,value:this.state.home.home},r.a.createElement("option",null,"Apartment"),r.a.createElement("option",null,"House")))),r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Gruming services"),r.a.createElement(f.a.Control,{name:"petGrooming",type:"checkbox",onChange:this.handleInputChange,checked:this.state.home.petGrooming})),r.a.createElement(b.a,{variant:"dark",size:"sm",type:"submit",disabled:this.state.disabledButton},this.state.buttonText))}}]),t}(n.Component),q=a(101),V=a.n(q),$=a(23),K=a.n($),Q=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleEditShow=function(){return a.setState({showModalWindowEdit:!0})},a.handleEditClose=function(){return a.setState({showModalWindowEdit:!1})},a.handleReservationShow=function(){return a.setState({showModalWindowReservation:!0})},a.handleReservationClose=function(){return a.setState({showModalWindowEdit:!1})},a.componentDidMount=function(){return a.getProfile()},a.getProfile=function(){a._userService.profile().then((function(e){console.log(e),a._hostService.details(e.data.home._id).then((function(e){return a.setState({home:e.data})}))})).catch((function(e){return console.log(e)}))},a.petGrooming=function(){if(console.log(Object(F.a)(a)),a.state.home.petGrooming)return"pet gruming accecible"},a.handleSubmit=function(e){e.preventDefault(),a._reservationService.create(a.state.reservation).then((function(e){console.log(e),a.props.setTheUser(e.data.user)})).catch((function(e){return console.log(e)}))},a.handleInputChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState({reservation:Object(w.a)({},a.state.reservation,Object(v.a)({},n,r))})},a._userService=new j,a._hostService=new T,a._reservationService=new N;var n=new Date,r=K()(new Date(n.getFullYear(),n.getMonth(),n.getDate())),l=K()(r).add(30,"days").subtract(1,"seconds");return a.applyCallback=a.applyCallback.bind(Object(F.a)(a)),a.state={home:{},start:r,end:l,reservation:{startDay:0,startMonth:0,startYear:0,endDay:0,endMonth:0,endYear:0,price:15},showModalWindowEdit:!1,showModalWindowReservation:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"applyCallback",value:function(e,t){console.log(t._d),console.log(e);var a=e._d.toString().split(" "),n=t._d.toString().split(" "),r=[],l=[];r.push(a[1],a[2],a[3]),l.push(n[1],n[2],n[3]),console.log(l),"Jan"==r[0]&&r.splice(0,1,"01"),"Feb"==r[0]&&r.splice(0,1,"02"),"Mar"==r[0]&&r.splice(0,1,"03"),"Apr"==r[0]&&r.splice(0,1,"04"),"May"==r[0]&&r.splice(0,1,"05"),"Jun"==r[0]&&r.splice(0,1,"06"),"Jul"==r[0]&&r.splice(0,1,"07"),"Aug"==r[0]&&r.splice(0,1,"08"),"Sep"==r[0]&&r.splice(0,1,"09"),"Oct"==r[0]&&r.splice(0,1,"10"),"Nov"==r[0]&&r.splice(0,1,"11"),"Dec"==r[0]&&r.splice(0,1,"12"),"Jan"==l[0]&&l.splice(0,1,"01"),"Feb"==l[0]&&l.splice(0,1,"02"),"Mar"==l[0]&&l.splice(0,1,"03"),"Apr"==l[0]&&l.splice(0,1,"04"),"May"==l[0]&&l.splice(0,1,"05"),"Jun"==l[0]&&l.splice(0,1,"06"),"Jul"==l[0]&&l.splice(0,1,"07"),"Aug"==l[0]&&l.splice(0,1,"08"),"Sep"==l[0]&&l.splice(0,1,"09"),"Oct"==l[0]&&l.splice(0,1,"10"),"Nov"==l[0]&&l.splice(0,1,"11"),"Dec"==l[0]&&l.splice(0,1,"12");var o=r[1],i=r[0],s=r[2],c=l[1],u=l[0],h=l[2];this.setState({reservation:Object(w.a)({},this.state.reservation,{startDay:o,startMonth:i,startYear:s,endDay:c,endMonth:u,endYear:h})})}},{key:"render",value:function(){var e=new Date,t=K()(new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0));K()(t).add(1,"days").subtract(1,"seconds");return r.a.createElement(E.a,{className:"pet-details"},r.a.createElement("section",null,r.a.createElement(k.a,null,r.a.createElement(D.a,{md:6},r.a.createElement("h1",null,this.state.home.title),r.a.createElement("p",null,r.a.createElement("strong",null,"Address:")," ","".concat(this.state.home.street,", ").concat(this.state.home.city,", ").concat(this.state.home.postalCode,", ").concat(this.state.home.country)),r.a.createElement("p",null,"I live in a ",this.state.home.home),r.a.createElement("p",null,this.petGrooming()," "),r.a.createElement(_.b,{to:"/home",className:"btn btn-dark"},"Volver"),r.a.createElement(b.a,{variant:"dark",onClick:this.handleEditShow},"Edit your house")),r.a.createElement(D.a,{md:{span:4,offset:2}},r.a.createElement("img",{src:this.state.home.imageUrl,alt:this.state.home.title})),r.a.createElement(D.a,{md:{span:4,offset:2}})),r.a.createElement(V.a,{start:this.state.start,end:this.state.end,local:{format:"DD-MM-YYYY HH:mm",sundayFirst:!1},applyCallback:this.applyCallback},r.a.createElement(J.a,{id:"formControlsTextB",type:"text",label:"Text",placeholder:"Enter text"})),r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Pride per day"),r.a.createElement(f.a.Control,{type:"number",name:"price",onChange:this.handleInputChange,value:this.state.reservation.price})),r.a.createElement(b.a,{variant:"dark",size:"sm",type:"submit"},"Post Reservation")),r.a.createElement(I.a,{show:this.state.showModalWindowEdit,onHide:this.handleEditClose},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,null,"Edit Details")),r.a.createElement(I.a.Body,null,r.a.createElement(z,{closeModalWindow:this.handleEditClose,update:this.componentDidMount,id:this.state.home._id})))))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props._id;console.log(e),a._reservationService.details(e).then((function(e){return console.log(e.data),a.setState({reservation:e.data})})).then((function(){a.filter()})).then((function(){a._reservationService.edit(a.state.reservation)})).catch((function(e){return console.log("Error",e)}))},a.filter=function(){var e=parseInt(a.props.searchDetails.startDay),t=parseInt(a.props.searchDetails.startMonth),n=parseInt(a.props.searchDetails.startYear),r=parseInt(a.props.searchDetails.endDay),l=parseInt(a.props.searchDetails.endMonth),o=parseInt(a.props.searchDetails.endYear),i=a.props.price,s=1;do{s++,28==++e&&2==t?(e=0,t++):30==e?4!=t&&6!=t&&9!=t&&11!=t||(e=0,t++):31==e&&(1==t||3==t||5==t||7==t||8==t||10==t?(e=0,t++):12==t&&(n++,t=1,e=0))}while(e!=r&&t!=l&&n!=o);var c=s*i;a.setState({reservation:Object(w.a)({},a.state.reservation,{totalPrice:c})})},a._reservationService=new N,a.home=a.props.details.home,a.state={reservation:{}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,this.props._id?r.a.createElement(_.b,{to:"/reservationDetails/".concat(this.props._id)},r.a.createElement(E.a,null,r.a.createElement(k.a,null,r.a.createElement(D.a,{md:3},r.a.createElement("img",{src:this.home.imageUrl,alt:this.home.title})),r.a.createElement(D.a,{md:4},r.a.createElement("h3",null,this.home.title)),r.a.createElement(D.a,{md:3},r.a.createElement("p",null,this.state.reservation.totalPrice,"$"))))):null)}}]),t}(n.Component),Z=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a._reservationService.getAll().then((function(e){return console.log(e.data,a.props.search),a.setState({reservations:e.data})})).then((function(){a.filter(),console.log(a.state.result)})).catch((function(e){return console.log("Error",e)}))},a.filter=function(){var e=a.props.search,t=parseFloat(e.startYear)+parseFloat(e.startMonth/100)+parseFloat(e.startDay/1e4),n=parseFloat(e.endYear)+parseFloat(e.endMonth/100)+parseFloat(e.endDay/1e4),r=[];console.log(e),console.log(n);for(var l=0;l<a.state.reservations.length;l++){var o=a.state.reservations[l].startYear+a.state.reservations[l].startMonth/100+a.state.reservations[l].startDay/1e4,i=a.state.reservations[l].endYear+a.state.reservations[l].endMonth/100+a.state.reservations[l].endDay/1e4;console.log(o),console.log(i),console.log(a.state.reservations[l]),(e.startYear||e.city)&&(e.city?e.city==a.state.reservations[l].details.home.city?e.startYear&&(t>=o&&i>=n&&r.push(a.state.reservations[l]),console.log("llegue al final y falle")):console.log(" casi llegue al final y falle"):t>=o&&i>=n&&r.push(a.state.reservations[l]))}return console.log("en la funcion",r),a.setState({result:r})},a._reservationService=new N,a.state={result:[],reservations:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,this.state.result.map((function(t){return r.a.createElement(X,Object.assign({key:t._id},t,{searchDetails:e.props.search}))})))}}]),t}(n.Component),ee=function(e){function t(){var e;Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).handleSearchShow=function(){return e.setState({showModalWindowSearch:!0})},e.handleSearchClose=function(){return e.setState({showModalWindowSearch:!1})},e.handleSubmit=function(t){t.preventDefault(),e.handleSearchShow()},e.handleInputChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState({reservation:Object(w.a)({},e.state.reservation,Object(v.a)({},n,r))})};var a=new Date,n=K()(new Date(a.getFullYear(),a.getMonth(),a.getDate())),r=K()(n).add(30,"days").subtract(1,"seconds");return e.applyCallback=e.applyCallback.bind(Object(F.a)(e)),e.state={start:n,end:r,reservation:{startDay:0,startMonth:0,startYear:0,endDay:0,endMonth:0,endYear:0,city:""},showModalWindowSearch:!1},e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"applyCallback",value:function(e,t){console.log(t._d),console.log(e);var a=e._d.toString().split(" "),n=t._d.toString().split(" "),r=[],l=[];r.push(a[1],a[2],a[3]),l.push(n[1],n[2],n[3]),console.log(l),"Jan"==r[0]&&r.splice(0,1,"01"),"Feb"==r[0]&&r.splice(0,1,"02"),"Mar"==r[0]&&r.splice(0,1,"03"),"Apr"==r[0]&&r.splice(0,1,"04"),"May"==r[0]&&r.splice(0,1,"05"),"Jun"==r[0]&&r.splice(0,1,"06"),"Jul"==r[0]&&r.splice(0,1,"07"),"Aug"==r[0]&&r.splice(0,1,"08"),"Sep"==r[0]&&r.splice(0,1,"09"),"Oct"==r[0]&&r.splice(0,1,"10"),"Nov"==r[0]&&r.splice(0,1,"11"),"Dec"==r[0]&&r.splice(0,1,"12"),"Jan"==l[0]&&l.splice(0,1,"01"),"Feb"==l[0]&&l.splice(0,1,"02"),"Mar"==l[0]&&l.splice(0,1,"03"),"Apr"==l[0]&&l.splice(0,1,"04"),"May"==l[0]&&l.splice(0,1,"05"),"Jun"==l[0]&&l.splice(0,1,"06"),"Jul"==l[0]&&l.splice(0,1,"07"),"Aug"==l[0]&&l.splice(0,1,"08"),"Sep"==l[0]&&l.splice(0,1,"09"),"Oct"==l[0]&&l.splice(0,1,"10"),"Nov"==l[0]&&l.splice(0,1,"11"),"Dec"==l[0]&&l.splice(0,1,"12");var o=r[1],i=r[0],s=r[2],c=l[1],u=l[0],h=l[2];this.setState({reservation:Object(w.a)({},this.state.reservation,{startDay:o,startMonth:i,startYear:s,endDay:c,endMonth:u,endYear:h})})}},{key:"render",value:function(){var e=new Date,t=K()(new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0));K()(t).add(1,"days").subtract(1,"seconds");return r.a.createElement("div",{className:"greyBack home"},r.a.createElement(E.a,null,r.a.createElement("h1",{className:"h1"},"PetHotel"),r.a.createElement("section",null,r.a.createElement(k.a,null,r.a.createElement(D.a,{md:6},r.a.createElement("label",null,"introduce dates"),r.a.createElement(V.a,{start:this.state.start,end:this.state.end,local:{format:"DD-MM-YYYY HH:mm",sundayFirst:!1},applyCallback:this.applyCallback},r.a.createElement(J.a,{id:"formControlsTextB",type:"text",label:"Text",placeholder:"Enter text"}))),r.a.createElement(f.a,{onSubmit:this.handleSubmit},r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,"Where do you need it?"),r.a.createElement(f.a.Control,{type:"string",name:"city",onChange:this.handleInputChange,value:this.state.reservation.city})),r.a.createElement("button",{size:"sm",type:"submit"},"Search for Peth"))),r.a.createElement(I.a,{show:this.state.showModalWindowSearch,onHide:this.handleSearchClose},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,null,"Search Details")),r.a.createElement(I.a.Body,null,r.a.createElement(Z,{search:this.state.reservation}))))))}}]),t}(n.Component),te=a(84),ae=function e(){var t=this;Object(i.a)(this,e),this.edit=function(e,a,n,r,l,o,i,s,c,u){return t._service.post("/notification/edit",{author:e,pets:a,reciver:n,startDay:r,startMonth:l,startYear:o,endDay:i,endMonth:s,endYear:c})},this.create=function(e,a,n,r,l,o,i,s,c){return t._service.post("/notification/create",{author:e,pets:a,reciver:n,startDay:r,startMonth:l,startYear:o,endDay:i,endMonth:s,endYear:c})},this.details=function(e){return t._service.get("/notification/details/".concat(e))},this.delete=function(e){return t._service.get("/notification/delete/".concat(e))},this._service=p.a.create({baseURL:"https://peth-hotel.herokuapp.com/api",withCredentials:!0})},ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).petInfo=function(e){a.setState({selectedPet:a.state.reservation.client[e]}),a.handlePetShow()},a.handleHostShow=function(){return a.setState({showModalHostWindow:!0})},a.handleHostClose=function(){return a.setState({showModalHostWindow:!1})},a.handlePetShow=function(){return a.setState({showModalPetWindow:!0})},a.handlePetClose=function(){return a.setState({showModalPetWindow:!1})},a.handleApplyShow=function(){return a.setState({showModalApplyWindow:!0})},a.handleApplyClose=function(){return a.setState({showModalApplyWindow:!1})},a.handleInputChange=function(e){var t=Object(te.a)(a.state.applicationPet),n=e.target,r=n.name;n.value;if(e.target.checked)t.push(r),console.log(t),a.setState({applicationPet:t});else{var l=t.indexOf(r);t.splice(l,1),console.log(t),a.setState({applicationPet:t})}},a.handleSubmit=function(e){e.preventDefault(),console.log("mande la notificacion");var t=a.state.reservation;a._notificationService.create({author:a.props.loggedInUser._id,reciver:t.details._id,pets:a.state.applicationPet,startDay:t.startDay,startMonth:t.startMonth,startYear:t.startYear,endDay:t.endDay,endMonth:t.endMonth,endYear:t.endYear})},a.componentDidMount=function(){console.log(a.props);var e=a.props.match.params.id;a._reservationService.details(e).then((function(e){return a.setState({reservation:e.data})})).then((function(){a._profileService.profile().then((function(e){console.log(e),a.props.setTheUser(e.data)})).catch((function(e){return console.log(e)}))})).catch((function(e){return console.log("Error",e)}))},a.agresiveMessage=function(){return a.state.selectedPet.agresiveWithPeople&&a.state.selectedPet.agresiveWithAnimals?"Aggressive: with People & other Animals":a.state.selectedPet.agresiveWithPeople?"Aggressive: with People":a.state.selectedPet.agresiveWithAnimals?"Aggressive: with other Animals":void 0},a._reservationService=new N,a._profileService=new j,a._notificationService=new ae,a.state={reservation:null,showModalPetWindow:!1,showModalHostWindow:!1,selectedPet:{},applicationPet:[],checked:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.state.reservation&&console.log(this.state.reservation),r.a.createElement("div",null,this.state.reservation?r.a.createElement(E.a,null,r.a.createElement("h1",null,this.state.reservation.details.home.title),r.a.createElement(k.a,null,r.a.createElement(D.a,{md:6},r.a.createElement("img",{src:this.state.reservation.details.home.imageUrl,alt:this.state.reservation.details.name})),r.a.createElement(D.a,{md:6},r.a.createElement("h3",null,"address:"),r.a.createElement("p",null,this.state.reservation.details.home.street,","," ",this.state.reservation.details.home.city,","," ",this.state.reservation.details.home.postalCode,","," ",this.state.reservation.details.home.country),r.a.createElement("p",null,"I Live in a ",this.state.reservation.details.home.home))),r.a.createElement(k.a,null,r.a.createElement(D.a,{md:6},r.a.createElement("h2",null,"Pets"),this.state.reservation.client[0]?this.state.reservation.client.map((function(t,a){return r.a.createElement(k.a,null,r.a.createElement(b.a,{variant:"dark",onClick:function(){return e.petInfo(a)}},r.a.createElement(D.a,{md:4},r.a.createElement("img",{src:t.imageUrl,alt:t.name})),r.a.createElement(D.a,{md:8},r.a.createElement("h3",null,t.name))))})):r.a.createElement("h4",null,"There are no pet registered, Be the first one")),r.a.createElement(D.a,{md:6},r.a.createElement("h2",null,"Author"),r.a.createElement(b.a,{variant:"dark",onClick:this.handleHostShow},r.a.createElement(k.a,null,r.a.createElement(D.a,{md:4},r.a.createElement("img",{src:this.state.reservation.details.imageUrl,alt:this.state.reservation.details.name})),r.a.createElement(D.a,{md:8},r.a.createElement("h3",null,this.state.reservation.details.name)))))),r.a.createElement(k.a,null,r.a.createElement(D.a,{md:6},r.a.createElement(b.a,{variant:"dark",onClick:this.handleApplyShow},"Apply")),r.a.createElement(D.a,{md:6},r.a.createElement(_.b,{variant:"dark",to:"/"},"Back"))),r.a.createElement(I.a,{show:this.state.showModalHostWindow,onHide:this.handleHostClose},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,null,"Author info")),r.a.createElement(I.a.Body,null,r.a.createElement("img",{src:this.state.reservation.details.imageUrl,alt:this.state.reservation.details.name}),r.a.createElement("h3",null,this.state.reservation.details.name),r.a.createElement("hr",null),r.a.createElement("p",null,this.state.reservation.details.description),r.a.createElement("p",null,this.state.reservation.details.phone),r.a.createElement(b.a,{onClick:this.handleHostClose},"Back"))),r.a.createElement(I.a,{show:this.state.showModalPetWindow,onHide:this.handlePetClose},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,null,"Pet info")),r.a.createElement(I.a.Body,null,r.a.createElement("img",{src:this.state.selectedPet.imageUrl,alt:this.state.selectedPet.name}),r.a.createElement("h3",null,this.state.selectedPet.name),r.a.createElement("hr",null),r.a.createElement("p",null,this.state.selectedPet.description),r.a.createElement("p",null,this.state.selectedPet.careDetails),r.a.createElement("p",null,this.agresiveMessage()),r.a.createElement(b.a,{onClick:this.handlePetClose},"Back"))),r.a.createElement(I.a,{show:this.state.showModalApplyWindow,onHide:this.handleApplyClose},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,null,"Select pets")),r.a.createElement(I.a.Body,null,r.a.createElement(f.a,{onSubmit:this.handleSubmit},this.props.loggedInUser.pets.map((function(t){return r.a.createElement(f.a.Group,null,r.a.createElement(f.a.Label,null,r.a.createElement("div",null,r.a.createElement("img",{src:t.imageUrl,alt:t.name}),r.a.createElement("h3",null,t.name))),r.a.createElement(f.a.Control,{name:t._id,type:"checkbox",onChange:e.handleInputChange,value:e.state.checked}))})),r.a.createElement(b.a,{variant:"dark",type:"submit"},"Apply"),r.a.createElement(b.a,{variant:"dark",onClick:this.handleApplyClose},"Back"))))):null)}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleHostShow=function(){return a.setState({showModalHostWindow:!0})},a.handleHostClose=function(){return a.setState({showModalHostWindow:!1})},a.handleEditShow=function(){return a.setState({showModalEditWindow:!0})},a.handleEditClose=function(){return a.setState({showModalEditWindow:!1})},a.componentDidMount=function(){a._profileService.profile().then((function(e){console.log(e.data),a.props.setTheUser(e.data),a.setState({user:e.data})})).catch((function(e){return console.log(e)}))},a._profileService=new j,a.state={user:{},showModalEditWindow:!1,showModalHostWindow:!1},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"My Reservations"),r.a.createElement(E.a,null,r.a.createElement(k.a,null,"host"==this.state.user.class?r.a.createElement("div",null,r.a.createElement(D.a,{md:6},r.a.createElement("h2",null,"Reservations for your Pets"),this.state.user.petReservation.map((function(e){return e.client.map((function(e){return r.a.createElement("img",{src:e.imageUrl,alt:e.name})}))}))),r.a.createElement(D.a,{md:6},r.a.createElement("div",null,r.a.createElement("img",{src:this.state.user.houseReservation.details.home.imageUrl,alt:this.state.user.houseReservation.details.home.title}),r.a.createElement("h3",null,this.state.user.houseReservation.details.home.title),this.state.user.houseReservation.client.map((function(e){return r.a.createElement("img",{src:e.imageUrl,alt:e.name})}))))):r.a.createElement("div",null,r.a.createElement("h2",null,"Reservations for your Pets"),this.state.user.petReservation?this.state.user.petReservation.map((function(e){return e.client.map((function(e){return r.a.createElement("img",{src:e.imageUrl,alt:e.name})}))})):null))))}}]),t}(n.Component),le=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleShow=function(){return a.setState({showModalWindow:!0})},a.handleClose=function(){return a.setState({showModalWindow:!1})},a.componentDidMount=function(){var e=a.props.match.params.id;a._notificationService.details(e).then((function(e){return a.setState({notification:e.data})})).then((function(e){return console.log(a.state.notification)})).catch((function(e){return console.log(e)}))},a.agresiveMessage=function(e){return e.agresiveWithPeople&&e.agresiveWithAnimals?"Aggressive: with People & other Animals":e.agresiveWithPeople?"Aggressive: with People":e.agresiveWithAnimals?"Aggressive: with other Animals":void 0},a.accept=function(e){var t=Object(te.a)(a.state.notification.pets);t=t.map((function(e){return e._id})),a._profileService.edit({_id:a.state.notification.author._id,petReservation:a.state.notification.reciver.houseReservation,name:a.state.notification.reciver.name,description:a.state.notification.reciver.description,phone:a.state.notification.reciver.phone,imageUrl:a.state.notification.reciver.imageUrl,copyPets:t})},a.eliminateNotification=function(e){var t=a.state.notification.reciver.notification.indexOf(a.state.notification._id),n=Object(te.a)(a.state.notification.reciver.notification);n.splice(t,1),a._profileService.edit({_id:a.state.notification.reciver._id,notification:n,name:a.state.notification.reciver.name,description:a.state.notification.reciver.description,phone:a.state.notification.reciver.phone,imageUrl:a.state.notification.reciver.imageUrl,petReservation:a.state.notification.reciver.houseReservation}),a._notificationService.delete(a.state.notification.reciver._id)},a.state={notification:{}},a._notificationService=new ae,a._profileService=new j,a._reservationService=new N,a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state.notification),r.a.createElement(E.a,{className:"pet-details"},r.a.createElement("h1",null,"hola"),r.a.createElement("section",null,r.a.createElement(k.a,null,r.a.createElement("h3",null,"Reservation From: ",this.state.notification.startDay,"/",this.state.notification.startMonth,"/",this.state.notification.startYear," To:"," ",this.state.notification.endDay,"/",this.state.notification.endMonth,"/",this.state.notification.endYear),r.a.createElement(D.a,{md:7},this.state.notification.pets&&this.state.notification.pets.map((function(t){return r.a.createElement("div",null,r.a.createElement(k.a,null,r.a.createElement(D.a,{sm:5},r.a.createElement("img",{src:t.imageUrl,alt:t.name})),r.a.createElement(D.a,{sm:7},r.a.createElement("h1",null,t.name," | Age:",t.age),r.a.createElement("p",null,r.a.createElement("strong",null,"Descripci\xf3n:")," ",t.description),r.a.createElement("hr",null),r.a.createElement("p",null,"Care Details: ",t.careDetails),r.a.createElement("p",null,e.agresiveMessage(t)," "))))}))),r.a.createElement(D.a,{md:5},this.state.notification.author&&r.a.createElement("div",null,r.a.createElement("img",{src:this.state.notification.author.imageUrl,alt:this.state.notification.author.name}),r.a.createElement("p",null,r.a.createElement("strong",null,"Name:")," ",this.state.notification.author.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Phone Number:")," ",this.state.notification.author.phone),r.a.createElement("p",null,r.a.createElement("strong",null,"Descriotion:")," ",this.state.notification.author.description)))),r.a.createElement(b.a,{onClick:this.accept},"Accept"),r.a.createElement(b.a,{onClick:this.eliminateNotification},"Decline")))}}]),t}(n.Component),oe=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).setTheUser=function(t){e.setState({loggedInUser:t})},e.fetchUser=function(){null===e.state.loggedInUser&&e._service.loggedin().then((function(t){e.setState({loggedInUser:t.data})})).catch((function(t){e.setState({loggedInUser:!1}),console.log({err:t})}))},e.state={loggedInUser:null},e._service=new g,e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return this.fetchUser(),r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{loggedInUser:this.state.loggedInUser,setUser:this.setTheUser}),r.a.createElement(m.c,null,r.a.createElement(m.a,{exact:!0,path:"/",component:ee}),r.a.createElement(m.a,{path:"/signup",render:function(t){return r.a.createElement(C,Object.assign({setUser:e.setTheUser},t))}}),r.a.createElement(m.a,{path:"/login",render:function(t){return r.a.createElement(y,Object.assign({setUser:e.setTheUser},t))}}),r.a.createElement(m.a,{exact:!0,path:"/profile",render:function(){return r.a.createElement(x,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser})}}),r.a.createElement(m.a,{exact:!0,path:"/myPets",render:function(){return r.a.createElement(B,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser})}}),r.a.createElement(m.a,{path:"/petDetails/:id",component:Y}),r.a.createElement(m.a,{exact:!0,path:"/myHome",render:function(){return r.a.createElement(Q,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser})}}),r.a.createElement(m.a,{exact:!0,path:"/reservationDetails/:id",render:function(t){return r.a.createElement(ne,Object.assign({},t,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser}))}}),r.a.createElement(m.a,{path:"/requestDetail/:id",component:le}),r.a.createElement(m.a,{exact:!0,path:"/reservations",render:function(){return r.a.createElement(re,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser})}})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(293),a(294);o.a.render(r.a.createElement(_.a,null,r.a.createElement(oe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[175,1,2]]]);
//# sourceMappingURL=main.f4d9beea.chunk.js.map